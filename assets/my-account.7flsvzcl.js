import{B as w}from"./Button.49gbgcb2.js";import{C as T}from"./CardGrid.15cj8hvu.js";import{D as U}from"./DocumentDisplay.1u3n8z7b.js";import{M as I,F as O}from"./SharedNav.40at9hg6.js";import{T as Y}from"./Title.3fz2k97a.js";import{d as x,q as u,aE as r,o as d,h as v,b as t,w as a,i as E,F as h,e as l,t as _,u as n,a_ as D,s as g,aS as b,aG as M,a as S,c as z,aD as y,j as B}from"./index.3wtsgydi.js";import{I as N}from"./InlineButton.197m3pe8.js";import"./_plugin-vue_export-helper.35ltfn2z.js";import"./Navigation.4poltm3u.js";import"./Logo.vue_vue_type_script_setup_true_lang.4ks050nj.js";import"./LogoLight.539ztpd2.js";const G=l(" Log Out "),j=l("Log Out Other Devices"),q=l("Change Username"),A=l("Change Password"),K={key:0},H=l(" Click "),J=l(" here "),Q=l(" You cannot change notification settings when offline. "),R={key:1},W=l("Log in"),X=l(" to a zSnout account or "),Z=l("sign up"),ee=l(" to receive notification for new blog posts. "),oe=S("p",null,null,-1),te={key:2},ae=l("OK"),le=l("Cancel"),_e=x({__name:"my-account",setup(se){const C=u(!1),$=u(""),p=u(!1),f=u(!1),V=u(""),c=u(""),m=u(""),k=u(""),i=u("username");r.on("account:done:reset-session",()=>{$.value="Your other devices have been logged out.",setTimeout(()=>{C.value=!1},1e3)});function L(){C.value=!0,$.value="Logging out your other devices...",r.emit("account:reset-session",g.value,!0)}function F(s){p.value=!0,f.value=!0,V.value=`Pick a new ${i.value=s} below.`,s==="username"?c.value=D.value:c.value="",m.value="",k.value=""}function P(){const s=i.value;s==="password"?r.emit("account:update:password",g.value,c.value,m.value):s==="username"&&r.emit("account:update:username",g.value,c.value),f.value=!1;function e(){r.off(`account:done:update:${s}`,o),f.value=!0}function o(){r.off("error",e),V.value=`Your ${s} has been changed.`,setTimeout(()=>p.value=!1,1e3)}r.once("error",e),r.once(`account:done:update:${s}`,o)}return(s,e)=>(d(),v(h,null,[t(U,null,{default:a(()=>[t(Y,null,{default:a(()=>[l(_(n(D))+"'s Account",1)]),_:1}),t(T,null,{default:a(()=>[t(w,{onClick:e[0]||(e[0]=o=>(D.value="",g.value="",s.$router.push("/")))},{default:a(()=>[G]),_:1}),t(w,{onClick:L},{default:a(()=>[j]),_:1}),t(w,{onClick:e[1]||(e[1]=o=>F("username"))},{default:a(()=>[q]),_:1}),t(w,{onClick:e[2]||(e[2]=o=>F("password"))},{default:a(()=>[A]),_:1})]),_:1}),n(g)?(d(),v("p",K,[l(" You "+_(n(b)?"are currently receiving":"will not receive")+" notifications for updates to the zSnout blog. ",1),n(M)?(d(),v(h,{key:0},[H,t(N,{onClick:e[3]||(e[3]=o=>n(r).emit("blog:update:will-notify",n(g),!n(b)))},{default:a(()=>[J]),_:1}),l(" to opt-"+_(n(b)?"out of":"in to")+" notifications. ",1)],64)):(d(),v(h,{key:1},[Q],64))])):(d(),v("p",R,[t(N,{onClick:e[4]||(e[4]=o=>p.value=!0)},{default:a(()=>[W]),_:1}),X,t(N,{onClick:e[5]||(e[5]=o=>p.value=!0)},{default:a(()=>[Z]),_:1}),ee]))]),_:1}),t(I,{open:C.value},{buttons:a(()=>[oe]),default:a(()=>[S("p",null,_($.value),1)]),_:1},8,["open"]),t(I,{open:p.value},E({default:a(()=>[S("p",null,_(V.value),1),f.value?(d(),z(O,{key:0,modelValue:c.value,"onUpdate:modelValue":e[6]||(e[6]=o=>c.value=o),autocomplete:i.value,placeholder:i.value==="password"?"Old Password":"New Username",type:i.value==="password"?"password":"text",onInput:e[7]||(e[7]=o=>y.value="")},null,8,["modelValue","autocomplete","placeholder","type"])):B("",!0),i.value==="password"&&f.value?(d(),v(h,{key:1},[t(O,{modelValue:m.value,"onUpdate:modelValue":e[8]||(e[8]=o=>m.value=o),autocomplete:"new-password",placeholder:"New Password",type:"password",onInput:e[9]||(e[9]=o=>y.value="")},null,8,["modelValue"]),t(O,{modelValue:k.value,"onUpdate:modelValue":e[10]||(e[10]=o=>k.value=o),autocomplete:"new-password",placeholder:"Verify Password",type:"password",onInput:e[11]||(e[11]=o=>y.value="")},null,8,["modelValue"])],64)):B("",!0),i.value==="password"&&m.value!==k.value||n(y)?(d(),v("p",te,_(i.value==="password"&&m.value!==k.value?"Your passwords should match.":n(y)),1)):B("",!0)]),_:2},[f.value?{name:"buttons",fn:a(()=>[t(w,{onClick:P},{default:a(()=>[ae]),_:1}),t(w,{cancel:"",onClick:e[12]||(e[12]=o=>p.value=!1)},{default:a(()=>[le]),_:1})]),key:"0"}:void 0]),1032,["open"])],64))}});export{_e as default};
