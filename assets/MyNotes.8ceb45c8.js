import{k as c,W as f,d as b,P as $,f as _,b as n,w as o,F as x,Y as i,ad as T,o as d,e as u,t as w,u as a,ab as g,a as C,m as v,c as k,l as L,ae as M,p as S,g as V}from"./index.a25085ae.js";import{_ as h,c as B,M as I,b as y,F as D}from"./BookmarkIcon.41f4f1ab.js";import{C as F}from"./Card.40e004e4.js";import{C as E}from"./CardGrid.7d89bac3.js";import{D as K}from"./DocumentDisplay.8fbb2265.js";import{S as O}from"./SearchableCardGrid.6d633173.js";import{T as P}from"./Title.80f0cf6c.js";function G(s){const l=document.createElement("p");return l.innerHTML=s,l.textContent||""}const R=s=>(S("data-v-c2faf6be"),s=s(),V(),s),U={key:0},q=u(" Looks like you're not logged in. "),H=u(" or "),W=u(" to access the Notes app. "),Y=u(" New Note "),j=R(()=>C("p",null,"Pick a title for your note.",-1)),z=u(" OK "),A=u("Cancel"),m=c([]);f.on("notes:index",s=>m.value=s);const J=b({__name:"MyNotes",setup(s){const l=c(!1),p=c(!1),r=c("");return $(()=>{f.emit("notes:request:index",i.value)}),(Q,e)=>{const N=T("RouterLink");return d(),_(x,null,[n(K,null,{default:o(()=>[n(P,null,{default:o(()=>[u(w(a(g)?`@${a(g)}'s`:"My")+" Notes",1)]),_:1}),a(i)?v("",!0):(d(),_("p",U,[q,C("span",{class:"link",onClick:e[0]||(e[0]=t=>l.value=!0)},"Log in"),H,C("span",{class:"link",onClick:e[1]||(e[1]=t=>l.value=!0)},"create an account"),W])),a(i)&&m.value.length<100?(d(),k(E,{key:1,style:{"margin-bottom":"2em"}},{default:o(()=>[n(y,{onClick:e[2]||(e[2]=t=>(p.value=!0,r.value=""))},{default:o(()=>[Y]),_:1})]),_:1})):v("",!0),a(i)&&m.value.length?(d(),k(O,{key:2,placeholder:"Search your notes..."},{default:o(()=>[(d(!0),_(x,null,L(m.value,t=>(d(),k(N,{to:`/note?id=${t.id}`},{default:o(()=>[n(F,{class:"card text-color",description:a(G)(t.desc),title:t.title},null,8,["description","title"])]),_:2},1032,["to"]))),256))]),_:1})):v("",!0)]),_:1}),n(B,{open:l.value,"onUpdate:open":e[3]||(e[3]=t=>l.value=t)},null,8,["open"]),n(I,{open:p.value},{buttons:o(()=>[n(y,{onClick:e[6]||(e[6]=t=>r.value&&(a(f).emit("notes:create",a(i),r.value),p.value=!1))},{default:o(()=>[z]),_:1}),n(y,{cancel:"",onClick:e[7]||(e[7]=t=>p.value=!1)},{default:o(()=>[A]),_:1})]),default:o(()=>[j,n(D,{modelValue:r.value,"onUpdate:modelValue":e[4]||(e[4]=t=>r.value=t),autocomplete:"off",placeholder:"Title...",onKeydown:e[5]||(e[5]=M(t=>r.value&&(a(f).emit("notes:create",a(i),r.value),p.value=!1),["enter"]))},null,8,["modelValue"])]),_:1},8,["open"])],64)}}});var se=h(J,[["__scopeId","data-v-c2faf6be"]]);export{se as default};
