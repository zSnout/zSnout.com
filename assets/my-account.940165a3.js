import{B as p}from"./VStack.1e10fe03.js";import{C as U}from"./CardGrid.9a85b364.js";import{D as x}from"./DocumentDisplay.3995c99d.js";import{M as N,F as _}from"./SharedNav.83eaab56.js";import{T as L}from"./Title.c9ade7dc.js";import{d as S,m as u,az as n,o as w,h as O,b as a,w as t,i as I,F as T,e as r,t as g,u as $,aT as h,s as k,a as b,c as M,ay as f,j as D}from"./index.9d51cee5.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./Logo.c55187c2.js";import"./LogoLight.117571b3.js";import"./Navigation.c729449c.js";const Y=r(" Log Out "),E=r("Log Out Other Devices"),j=r("Change Username"),z=r("Change Password"),A=b("p",null,null,-1),G={key:2},K=r("OK"),q=r("Cancel"),le=S({__name:"my-account",setup(H){const C=u(!1),V=u(""),c=u(!1),d=u(!1),y=u(""),v=u(""),i=u(""),m=u(""),s=u("username");n.on("account:done:reset-session",()=>{V.value="Your other devices have been logged out.",setTimeout(()=>{C.value=!1},1e3)});function F(){C.value=!0,V.value="Logging out your other devices...",n.emit("account:reset-session",k.value,!0)}function B(l){c.value=!0,d.value=!0,y.value=`Pick a new ${s.value=l} below.`,l==="username"?v.value=h.value:v.value="",i.value="",m.value=""}function P(){const l=s.value;l==="password"?n.emit("account:update:password",k.value,v.value,i.value):l==="username"&&n.emit("account:update:username",k.value,v.value),d.value=!1;function e(){n.off(`account:done:update:${l}`,o),d.value=!0}function o(){n.off("error",e),y.value=`Your ${l} has been changed.`,setTimeout(()=>c.value=!1,1e3)}n.once("error",e),n.once(`account:done:update:${l}`,o)}return(l,e)=>(w(),O(T,null,[a(x,null,{default:t(()=>[a(L,null,{default:t(()=>[r("@"+g($(h))+"'s Account",1)]),_:1}),a(U,null,{default:t(()=>[a(p,{onClick:e[0]||(e[0]=o=>(h.value="",k.value="",l.$router.push("/")))},{default:t(()=>[Y]),_:1}),a(p,{onClick:F},{default:t(()=>[E]),_:1}),a(p,{onClick:e[1]||(e[1]=o=>B("username"))},{default:t(()=>[j]),_:1}),a(p,{onClick:e[2]||(e[2]=o=>B("password"))},{default:t(()=>[z]),_:1})]),_:1})]),_:1}),a(N,{open:C.value},{buttons:t(()=>[A]),default:t(()=>[b("p",null,g(V.value),1)]),_:1},8,["open"]),a(N,{open:c.value},I({default:t(()=>[b("p",null,g(y.value),1),d.value?(w(),M(_,{key:0,modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=o=>v.value=o),autocomplete:s.value,placeholder:s.value==="password"?"Old Password":"New Username",type:s.value==="password"?"password":"text",onInput:e[4]||(e[4]=o=>f.value="")},null,8,["modelValue","autocomplete","placeholder","type"])):D("",!0),s.value==="password"&&d.value?(w(),O(T,{key:1},[a(_,{modelValue:i.value,"onUpdate:modelValue":e[5]||(e[5]=o=>i.value=o),autocomplete:"new-password",placeholder:"New Password",type:"password",onInput:e[6]||(e[6]=o=>f.value="")},null,8,["modelValue"]),a(_,{modelValue:m.value,"onUpdate:modelValue":e[7]||(e[7]=o=>m.value=o),autocomplete:"new-password",placeholder:"Verify Password",type:"password",onInput:e[8]||(e[8]=o=>f.value="")},null,8,["modelValue"])],64)):D("",!0),s.value==="password"&&i.value!==m.value||$(f)?(w(),O("p",G,g(s.value==="password"&&i.value!==m.value?"Your passwords should match.":$(f)),1)):D("",!0)]),_:2},[d.value?{name:"buttons",fn:t(()=>[a(p,{onClick:P},{default:t(()=>[K]),_:1}),a(p,{cancel:"",onClick:e[9]||(e[9]=o=>c.value=!1)},{default:t(()=>[q]),_:1})])}:void 0]),1032,["open"])],64))}});export{le as default};
