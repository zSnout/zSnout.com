import{D as k}from"./DocumentDisplay.7dfb295a.js";import{B as M}from"./VStack.4802ffbd.js";import{_ as D}from"./plugin-vue_export-helper.21dcd24c.js";import{d as _,s as x,o as T,c as A,w as h,a as C,b as G,e as K}from"./index.5b735708.js";import"./SharedNav.9470292b.js";import"./Logo.d6a34a47.js";import"./LogoLight.4b666505.js";const y=K("Add Coloring"),B=_({__name:"trope-highlighter",setup(N){const n=x(),l={Etnachta:"\u05D1\u0591",SofPassuk:"\u05E1\u05BD",Segol:"\u05D1\u0592",Shalsheconst:"\u05D1\u0593",ZakefKatan:"\u05D1\u0594",ZakefGadol:"\u05D1\u0595",Tifcha:"\u05D1\u0596",Rivia:"\u05D1\u0597",Zarka:"\u05D1\u05AE",Pashta:"\u05D1\u0599",Yetiv:"\u05D1\u059A",Tevir:"\u05D1\u059B",Pazer:"\u05D1\u05A1",QarneFarah:"\u05D1\u059F",TelishaGedola:"\u05D1\u05A0",Geresh:"\u05D1\u059C",Gershayim:"\u05D1\u059E",Mercha:"\u05D1\u05A5",Munach:"\u05D1\u05A3",Mahpach:"\u05D1\u05A4",Darga:"\u05D1\u05A7",Kadma:"\u05D1\u05A8",TelishaKetana:"\u05D1\u05A9",MerchaKefula:"\u05D1\u05A6",YerachBenYomo:"\u05D1\u05AA"};for(const[a,e]of Object.entries(l))l[a]=e[1];const v=Object.entries(l);function b(a){let e=-1,r=null;for(const[c,t]of v)a.indexOf(t)>e&&(e=a.indexOf(t),r=c);return r}function m(a){a.preventDefault();const e=a.clipboardData;if(!e)return;const r=e.getData("text/plain");if(!r)return;const c=document.getSelection();if(!c)return;const t=c.getRangeAt(0);t.deleteContents();const i=document.createTextNode(r);t.insertNode(i),t.selectNodeContents(i),t.collapse(!1),c.removeAllRanges(),c.addRange(t),p(),s()}function s(){if(!n.value)return;const a=[...n.value.childNodes].map(d=>(d.textContent||"").trim()).join(" ");if(!a)return;const e=document.createElement("span");e.textContent=a.trim().replace(/\s+/g," ");const i=e.innerHTML.split(" ").map(d=>({word:d,trope:b(d)})).map(({word:d,trope:u},o,g)=>u=="Munach"&&g[o+1].trope?{word:d,trope:`Munach${g[o+1].trope}`}:{word:d,trope:u}).map(({word:d,trope:u})=>{const o=document.createElement("span");return o.textContent=d,o.classList.add(u),o}),f=[i[0]];for(const d of i.slice(1))f.push(" ",d);n.value.replaceChildren(...f)}function p(){!n.value||n.value.classList.toggle("empty",!!n.value.textContent)}return(a,e)=>(T(),A(k,null,{default:h(()=>[C("div",{ref_key:"field",ref:n,class:"field second-layer",contenteditable:"",onPaste:m}," ...Type or paste some Hebrew text here ",544),G(M,{class:"color light",onClick:s},{default:h(()=>[y]),_:1})]),_:1}))}});var z=D(B,[["__scopeId","data-v-241d7a8c"]]);export{z as default};
