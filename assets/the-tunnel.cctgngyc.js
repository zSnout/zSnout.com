import{a as D,o as F,f as B}from"./main.200onzgm.js";import{F as E}from"./FullscreenDisplay.od9apf4f.js";import{u as H}from"./useCanvas.3phirwm2.js";import{r as Y}from"./useRandomColor.2q4zn31b.js";import{s as j}from"./useShuffle.1cs5x0cf.js";import{l as z,r as A,b as N,x as U,C as V,D as W,a8 as X}from"./runtime-core.esm-bundler.55v0mz3f.js";import{a as q}from"./_plugin-vue_export-helper.4yxwi37t.js";import"./BookmarkIcon.46krkaf8.js";import"./VStack.3evi6szx.js";import"./Field.5c7fkv56.js";import"./LogoLight.3fmf1259.js";import"./SharedNav.4z4l3m5g.js";import"./useRandint.48fktzm0.js";const G=z({__name:"the-tunnel",setup(J){const M=A(),a=Array(9).fill().map(Y);let c=0,f=0,d=-40;const w=200;let m=-440;const b=300;let r=-800,p=400,u=-1300,v=300,i=0,o=0,s=1,n=1,P=0;const h=[];return H(M,{useDevicePixelRatio:!1}).then(S=>{const{canvas:l,onDispose:T,onResize:C}=S,t=l.getContext("2d");if(!t)throw new Error("Your device doesn't support HTML5 canvases.");function g(){if(clearTimeout(c),t.drawImage(l,i,o,s,n),f===1){t.fillStyle="#00000040",t.fillRect(i,o,s,n);for(const[e,_]of h){const x=e*(l.width-i-128),y=_*(l.height-o-32);t.fillStyle=a[4],t.fillRect(x,y,128,32)}}for(let e=-20;e<d&&e<w;e++)t.beginPath(),t.fillStyle=a[5],t.arc(l.width-(w-e),l.height-e,20,0,2*Math.PI),t.fill(),t.closePath();for(let e=-20;e<m&&e<b;e++)t.beginPath(),t.fillStyle=a[6],t.arc(b-1.5*e,l.height-e,20,0,2*Math.PI),t.fill(),t.closePath();for(let e=-20;e<r&&e<p;e++)t.beginPath(),t.fillStyle=a[7],t.arc(l.width/2+p-e/2+P,l.height-e,20,0,2*Math.PI),t.fill(),t.closePath();for(let e=-20;e<u&&e<v;e++)t.beginPath(),t.fillStyle=a[8],t.arc(l.width-(v-1.5*e),e,20,0,2*Math.PI),t.fill(),t.closePath();c=setTimeout(g,100)}function R(){t.fillStyle="black",t.fillRect(0,0,l.width,l.height);const e=Math.random()*.15+.8;s=Math.floor(e*l.width),n=Math.floor(e*l.height),i=Math.floor(Math.random()*(l.width-s)),o=Math.floor(Math.random()*(l.height-n)),[d,m,r,u]=j([-40,-450,-800,-1300]),p=l.height/2,k()}function k(){t.fillStyle="black",t.fillRect(0,0,l.width,l.height),t.fillStyle=a[0],t.fillRect(0,0,20,l.height),t.fillStyle=a[1],t.fillRect(l.width-20,0,20,l.height),t.fillStyle=a[2],t.fillRect(0,0,l.width,10),t.fillStyle=a[3],t.fillRect(0,l.height-20,l.width,20)}setTimeout(()=>{R(),C(R),g()},200),T(D("click",e=>{const _=e.clientX,x=e.clientY,y=_/l.width,L=x/l.height;i=y*(l.width-s),o=L*(l.height-n),k();for(let I=0;I<50;I++)g()}))}),N(()=>{clearTimeout(c)}),F(()=>{f=(f+1)%2,h.push([Math.random()/2+.25,Math.random()/2+.25]),h.length>2&&h.shift()},4e3),B(()=>{d++,m++,r++,u++,r>0&&(P-=.25)}),(S,l)=>(U(),V(E,null,{default:W(()=>[X("canvas",{ref_key:"canvas",ref:M,class:"canvas"},null,512)]),_:1}))}});const rt=q(G,[["__scopeId","data-v-62156b6b"]]);export{rt as default};
