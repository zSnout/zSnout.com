import{d as F,r as B,l as D,m as E,q as H,g as Y,c as j,w as q,o as z,a as A,_ as N}from"./index.xh0zaea0.js";import{F as U}from"./FullscreenDisplay.75rpamat.js";import{u as V}from"./useCanvas.3phirwm2.js";import{r as W}from"./useRandomColor.2q4zn31b.js";import{s as X}from"./useShuffle.1cs5x0cf.js";import"./BookmarkIcon.1ijfs95x.js";import"./VStack.3evi6szx.js";import"./Field.5c7fkv56.js";import"./LogoLight.3fmf1259.js";import"./SharedNav.4z4l3m5g.js";import"./useRandint.48fktzm0.js";const k=200,I=300,G=F({__name:"the-tunnel",setup(J){const w=B(),a=Array(9).fill().map(W);let c=0,f=0,d=-40,m=-440,h=-800,u=400,p=-1300,M=300,i=0,o=0,s=1,n=1,b=0;const r=[];return V(w,{useDevicePixelRatio:!1}).then(v=>{const{canvas:l,onDispose:T,onResize:C}=v,t=l.getContext("2d");if(!t)throw new Error("Your device doesn't support HTML5 canvases.");function g(){if(clearTimeout(c),t.drawImage(l,i,o,s,n),f===1){t.fillStyle="#00000040",t.fillRect(i,o,s,n);for(const[e,_]of r){const x=e*(l.width-i-128),y=_*(l.height-o-32);t.fillStyle=a[4],t.fillRect(x,y,128,32)}}for(let e=-20;e<d&&e<k;e++)t.beginPath(),t.fillStyle=a[5],t.arc(l.width-(k-e),l.height-e,20,0,2*Math.PI),t.fill(),t.closePath();for(let e=-20;e<m&&e<I;e++)t.beginPath(),t.fillStyle=a[6],t.arc(I-1.5*e,l.height-e,20,0,2*Math.PI),t.fill(),t.closePath();for(let e=-20;e<h&&e<u;e++)t.beginPath(),t.fillStyle=a[7],t.arc(l.width/2+u-e/2+b,l.height-e,20,0,2*Math.PI),t.fill(),t.closePath();for(let e=-20;e<p&&e<M;e++)t.beginPath(),t.fillStyle=a[8],t.arc(l.width-(M-1.5*e),e,20,0,2*Math.PI),t.fill(),t.closePath();c=setTimeout(g,100)}function P(){t.fillStyle="black",t.fillRect(0,0,l.width,l.height);const e=Math.random()*.15+.8;s=Math.floor(e*l.width),n=Math.floor(e*l.height),i=Math.floor(Math.random()*(l.width-s)),o=Math.floor(Math.random()*(l.height-n)),[d,m,h,p]=X([-40,-450,-800,-1300]),u=l.height/2,S()}function S(){t.fillStyle="black",t.fillRect(0,0,l.width,l.height),t.fillStyle=a[0],t.fillRect(0,0,20,l.height),t.fillStyle=a[1],t.fillRect(l.width-20,0,20,l.height),t.fillStyle=a[2],t.fillRect(0,0,l.width,10),t.fillStyle=a[3],t.fillRect(0,l.height-20,l.width,20)}setTimeout(()=>{P(),C(P),g()},200),T(D("click",e=>{const _=e.clientX,x=e.clientY,y=_/l.width,L=x/l.height;i=y*(l.width-s),o=L*(l.height-n),S();for(let R=0;R<50;R++)g()}))}),E(()=>{clearTimeout(c)}),H(()=>{f=(f+1)%2,r.push([Math.random()/2+.25,Math.random()/2+.25]),r.length>2&&r.shift()},4e3),Y(()=>{d++,m++,h++,p++,h>0&&(b-=.25)}),(v,l)=>(z(),j(U,null,{default:q(()=>[A("canvas",{ref_key:"canvas",ref:w,class:"canvas"},null,512)]),_:1}))}});const st=N(G,[["__scopeId","data-v-62156b6b"]]);export{st as default};
