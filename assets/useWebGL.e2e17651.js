import{_ as P,S as y,H as T,L as D,a as x,O as I,U as k,B as O,M as U}from"./Modal.f6881f36.js";import{d as $,m as z,o as S,h as N,e as i,a as l,f as m,R as V,c as G,q as M,s as v,b as H,F as W,g as K,w as _,ao as X,X as Y,ap as j}from"./index.81c58a7b.js";const q=K("OK"),J={class:"content"},Q=$({name:"FullscreenDisplay",props:{options:{type:Boolean}},setup(t){const a=z(!1);return(o,r)=>(S(),N(W,null,[i(m(k),{class:"nav",top:""},{default:l(()=>[i(y,null,{default:l(()=>[i(T,{class:"padding"},{default:l(()=>[i(m(V),{to:"/"},{default:l(()=>[i(D,{class:"logo",invert:""})]),_:1}),i(x),o.$slots.options?(S(),G(I,{key:0,class:"options",role:"button",onClick:r[0]||(r[0]=n=>a.value=!a.value)})):M("",!0)]),_:1})]),_:1})]),_:1}),i(U,{open:a.value},{buttons:l(()=>[i(O,{cancel:"",onClick:r[1]||(r[1]=n=>a.value=!a.value)},{default:l(()=>[q]),_:1}),v(o.$slots,"buttons",{},void 0,!0)]),default:l(()=>[v(o.$slots,"options",{},void 0,!0)]),_:3},8,["open"]),H("div",J,[v(o.$slots,"default",{},void 0,!0)])],64))}});var ae=P(Q,[["__scopeId","data-v-76992b17"]]);function Z(t){const a=[];return j(()=>a.forEach(o=>o())),new Promise(o=>{const r=_(()=>{const n=X(t);if(n instanceof HTMLCanvasElement){const{width:u,height:d}=Y(n),e=[];typeof r=="function"&&a.push(r);const f=_(()=>{n.width=u.value*devicePixelRatio,n.height=d.value*devicePixelRatio,e.forEach(s=>s())});a.push(f),o({canvas:n,onDispose:s=>a.push(s),onResize:s=>e.push(s),size:{width:u,height:d}})}})})}function A(t,a,o){const r=t.createShader(t[`${a}_SHADER`]);if(!r)throw new Error("An error occurred while compiling a shader.");if(t.shaderSource(r,`#version 300 es
precision highp float;
`+o.trim()),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))return r;throw console.log(t.getShaderInfoLog(r)),t.deleteShader(r),new Error("An error occurred while compiling a shader.")}function ee(t,a,o){let r=t.createProgram();if(!r)throw new Error("An error occurred while creating a WebGL program.");let n=A(t,"VERTEX",a),u=A(t,"FRAGMENT",o);if(t.attachShader(r,n),t.attachShader(r,u),t.linkProgram(r),t.getProgramParameter(r,t.LINK_STATUS))return r;throw console.log(t.getProgramInfoLog(r)),t.deleteProgram(r),new Error("An error occurred while creating a WebGL program.")}const re=`
in vec2 _pos;
out vec2 pos;

void main() {
  gl_Position = vec4(pos = _pos, 0, 1);
}`;async function ne(t,a,o){var g;const r=await Z(t),{canvas:n,onResize:u,onDispose:d}=r,e=n.getContext("webgl2",{preserveDrawingBuffer:o==null?void 0:o.preserveDrawingBuffer});if(!e)throw new Error("An error occurred while initializing the context.");const f=ee(e,(g=o==null?void 0:o.vertShader)!=null?g:re,a);e.useProgram(f);const s=e.getAttribLocation(f,"_pos");e.enableVertexAttribArray(s);const E=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,E),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,1,0,1,1,0,0,1,1,0,0,0]),e.STATIC_DRAW),e.vertexAttribPointer(s,2,e.FLOAT,!1,0,0);function h(){e.isContextLost()||(e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.viewport(-n.width,-n.height,2*n.width,2*n.height),e.drawArrays(e.TRIANGLES,0,6))}let p=!1;const L=setInterval(()=>{p&&(p=!1,h())});d(()=>clearInterval(L)),u(h);function R(b,B,C){if(e.isContextLost())return;const w=e.getUniformLocation(f,b);if(!w)return;const F=_(()=>{let c=m(C);e.isContextLost()||(typeof c=="number"&&(c=[c]),!(c.length<1||c.length>4)&&(e[`uniform${c.length}${B}v`](w,c),p=!0))});d(F)}return Object.assign(r,{gl:e,program:f,render:h,useUniform:R})}export{ae as F,ne as u};
