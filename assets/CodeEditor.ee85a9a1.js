import{B as g,H as c}from"./Modal.005a0319.js";import{a as f,A as V,u as S,C as q}from"./AceEditor.ee8e313b.js";import{D as $}from"./DocumentDisplay.c57d1884.js";import{F as b}from"./Field.6f226a40.js";import{I as w}from"./InlineCheckboxField.7c50f74b.js";import{L as p}from"./Labeled.149c5036.js";import{d as h,c as y,o as v,k as x,w as i,b as a,u,y as C,e as k}from"./index.008fb619.js";const M=h({__name:"Editor3",props:{modelValue:null,readonly:{type:Boolean},placeholder:null,round:{type:Boolean}},emits:["update:modelValue","init","save"],setup(m){return f.define("ace/mode/storymatic3",["require","exports"],function(t,l){const r=t("ace/lib/oop"),o=t("ace/mode/text").Mode,d=t("ace/mode/storymatic3_highlight_rules").SMHighlightRules,s=function(){this.HighlightRules=d,this.lineCommentStart="#"};r.inherits(s,o),l.Mode=s}),f.define("ace/mode/storymatic3_highlight_rules",["require","exports"],function(t,l){const r=t("ace/lib/oop"),{TextHighlightRules:o}=t("ace/mode/text_highlight_rules"),d=function(){const s=[{token:"constant.language.escape",regex:/\\./},{token:"string",regex:/"/,next:"start"},{token:"paren",regex:/\|/,next:"start"},{token:"variable.storymatic",regex:/\$\w+/}];this.$rules={start:[{token:"invisible",regex:/[^\x00-\xff]+/},{token:"comment.line",regex:/^\s*#.*$/},{token:"storage.type.function",regex:/\b(?:function|func|def|const)\b/},{token:"keyword",regex:/\b(?:if|elif|else|unless|while|until|repeat|break|continue|each|return|and|or|not|isnt|is|in|of|be)\b/},{token:"constant.language",regex:/true|false|null/},{token:"keyword.operator",regex:/[+\-*\/%>=<!]|[&|]{2}/},{token:"paren",regex:/[(){}[\]]/},{token:"entity.name.function",regex:/@\w+\b/},{token:["text","property"],regex:/(\.\s*)(\$?\w+)/},{token:["property","text"],regex:/(\$?\w+\s*)(:)/},{token:"constant.numeric",regex:/\b\d+(?:\.\d+)?\b/},{token:"variable.storymatic",regex:/\$\w+/},{token:"constant.language",regex:/\b(?:null|true|false|yes|no|on|off|y|n)\b/},{token:"string",regex:/"/,next:"string-dq"},{token:"paren",regex:/\|/,next:"string-dq"},{token:"text",regex:/[,;]/},{token:"text",regex:/\s+/},{defaultToken:"invalid"}],"string-dq":[...s,{token:"markup.bold",regex:/[*]/,next:"string-dq-b"},{token:"markup.italic",regex:/_/,next:"string-dq-i"},{defaultToken:"string"}],"string-dq-b":[...s,{token:"markup.bold",regex:/[*]/,next:"string-dq"},{token:"markup.bold.italic",regex:/_/,next:"string-dq-bi"},{defaultToken:"string.markup.bold"}],"string-dq-i":[...s,{token:"markup.bold.italic",regex:/[*]/,next:"string-dq-bi"},{token:"markup.italic",regex:/_/,next:"string-dq"},{defaultToken:"string.markup.italic"}],"string-dq-bi":[...s,{token:"markup.bold.italic",regex:/[*]/,next:"string-dq-i"},{token:"markup.bold.italic",regex:/_/,next:"string-dq-b"},{defaultToken:"string.markup.bold.italic"}]}};r.inherits(d,o),l.SMHighlightRules=d}),(t,l)=>{var r;return v(),y(V,{modelValue:m.modelValue,placeholder:(r=m.placeholder)!=null?r:"Write a story...",readonly:m.readonly,round:m.round,mode:"storymatic3",onInit:l[0]||(l[0]=o=>t.$emit("init",o)),onSave:l[1]||(l[1]=o=>t.$emit("save",o)),"onUpdate:modelValue":l[2]||(l[2]=o=>t.$emit("update:modelValue",o))},null,8,["modelValue","placeholder","readonly","round"])}}}),H=k('Set to "23"'),R=k(" Set to a random value "),T=k(" Set placeholder to a random value "),L=h({__name:"CodeEditor",setup(m){const t=x(""),l=x("placeholder"),r=x(!1),o=S(),{field:d,placeholder:s}=o;return(U,e)=>(v(),y($,{"explicit-height":"","max-width":""},{options:i(()=>[a(c,{space:.75,stretch:""},{default:i(()=>[a(g,{onClick:e[3]||(e[3]=n=>t.value="23")},{default:i(()=>[H]),_:1}),a(g,{onClick:e[4]||(e[4]=n=>t.value=""+Math.random())},{default:i(()=>[R]),_:1})]),_:1},8,["space"]),a(g,{onClick:e[5]||(e[5]=n=>l.value=""+Math.random())},{default:i(()=>[T]),_:1}),a(p,{label:"Model Value"},{default:i(()=>[a(b,{modelValue:t.value,"onUpdate:modelValue":e[6]||(e[6]=n=>t.value=n)},null,8,["modelValue"])]),_:1}),a(p,{label:"Placeholder"},{default:i(()=>[a(b,{modelValue:l.value,"onUpdate:modelValue":e[7]||(e[7]=n=>l.value=n)},null,8,["modelValue"])]),_:1}),a(p,{label:"Readonly?"},{default:i(()=>[a(w,{modelValue:r.value,"onUpdate:modelValue":e[8]||(e[8]=n=>r.value=n)},null,8,["modelValue"])]),_:1})]),default:i(()=>[a(c,{space:.75,style:{height:"100%"}},{default:i(()=>[a(M,{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=n=>t.value=n),placeholder:l.value,readonly:r.value,round:"",style:{flex:"1"},onSave:u(o).console.error},null,8,["modelValue","placeholder","readonly","onSave"]),a(q,{field:u(d),"onUpdate:field":e[1]||(e[1]=n=>C(d)?d.value=n:null),messages:u(o).messages,"onUpdate:messages":e[2]||(e[2]=n=>u(o).messages=n),placeholder:u(s),stretch:"",style:{width:"min(50%, 400px)"},onSelect:u(o).onSelect,onSubmit:u(o).onSubmit},null,8,["field","messages","placeholder","onSelect","onSubmit"])]),_:1},8,["space"])]),_:1}))}});export{L as default};
