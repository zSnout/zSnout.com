import{d as S,k as h,a8 as _,as as I,au as D,E as b,r as y,j as g,ay as z,c as B,w as p,o as E,b as P,a as d,aq as F}from"./index.b934a723.js";import{F as H}from"./FullscreenDisplay.57b0ab81.js";import{u as T}from"./useCanvas.08aaa5f9.js";import{a as $,H as x}from"./Modal.2fcbc3dd.js";const q=S({__name:"Spinner",setup(L){const f=h(),k=_(),r=h(!1),s=h(0),u=I(Math.PI/360,Math.PI/1440,Math.PI/8);return T(f).then(m=>{const{canvas:t,onDispose:v,onResize:C,size:a}=m,e=t.getContext("2d"),N=D(()=>Math.min(a.width.value/2,a.height.value/2));if(!e)throw new Error("Your device doesn't support HTML5 canvases.");let n=NaN,o=NaN;e.translate(a.width.value/2,a.height.value/2);function w(){e.beginPath(),e.fillStyle="white",e.arc(a.width.value/2,a.height.value/2,N.value,0,2*Math.PI),e.fill()}w(),C(w),v(b(y({pointer:k,rotation:s}),({pointer:{x:l,y:i}})=>{if(!r.value){n=NaN,o=NaN;return}const c=Math.hypot(a.width.value/2-l,a.height.value/2-i),M=Math.atan2(i-a.height.value/2,l-a.width.value/2);if(c>N.value){n=NaN,o=NaN;return}[l,i]=[a.width.value/2+c*Math.cos(s.value-M),a.height.value/2-c*Math.sin(s.value-M)],!isNaN(n)&&!isNaN(o)&&(e.beginPath(),e.moveTo(n,o),e.lineTo(l,i),e.stroke()),n=l,o=i}))}),g("pointerdown",()=>r.value=!0),g("pointerup",()=>r.value=!1),z(()=>s.value+=u.value),(m,t)=>(E(),B(H,null,{indicator:p(()=>[P(x,null,{default:p(()=>[d("span",{onClick:t[0]||(t[0]=v=>u.value-=Math.min(Math.PI/1440))},"Slow Down"),P($),d("span",{onClick:t[1]||(t[1]=v=>u.value+=Math.min(Math.PI/1440))},"Speed Up")]),_:1})]),default:p(()=>[d("canvas",{ref_key:"canvas",ref:f,class:"canvas",style:F(`transform: rotate(${s.value}rad)`)},null,4)]),_:1}))}});export{q as default};
