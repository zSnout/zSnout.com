import{d as L,q as F,C as B,a2 as D,a3 as E,L as H,o as Y,c as q,w as z,a as A,_ as N}from"./index.4nlty64r.js";import{F as U}from"./FullscreenDisplay.421pqk6v.js";import{u as V}from"./useCanvas.87p0yoq7.js";import{r as W}from"./useRandomColor.3lt16kz3.js";import{s as X}from"./useShuffle.65ly7ulv.js";import"./BookmarkIcon.108uetaj.js";import"./VStack.6d7g92uw.js";import"./LogoLight.539ztpd2.js";import"./SharedNav.6b66y862.js";import"./useRandint.4l2grpuh.js";const j=L({__name:"the-tunnel",setup(G){const M=F(),a=Array(9).fill().map(W);let r=0,c=0,f=-40;const w=200;let d=-440;const v=300;let m=-800,u=400,p=-1300,P=300,o=0,i=0,s=1,n=1;const h=[];return V(M,{useDevicePixelRatio:!1}).then(b=>{const{canvas:l,onDispose:T,onResize:k}=b,t=l.getContext("2d");if(!t)throw new Error("Your device doesn't support HTML5 canvases.");function _(){if(clearTimeout(r),t.drawImage(l,o,i,s,n),c===1){t.fillStyle="#00000040",t.fillRect(o,i,s,n);for(const[e,g]of h){const x=e*(l.width-o-128),y=g*(l.height-i-32);t.fillStyle=a[4],t.fillRect(x,y,128,32)}}for(let e=-20;e<f&&e<w;e++)t.beginPath(),t.fillStyle=a[5],t.arc(l.width-(w-e),l.height-e,20,0,2*Math.PI),t.fill(),t.closePath();for(let e=-20;e<d&&e<v;e++)t.beginPath(),t.fillStyle=a[6],t.arc(v-1.5*e,l.height-e,20,0,2*Math.PI),t.fill(),t.closePath();for(let e=-20;e<m&&e<u;e++)t.beginPath(),t.fillStyle=a[7],t.arc(l.width/2+u-e/2,l.height-e,20,0,2*Math.PI),t.fill(),t.closePath();for(let e=-20;e<p&&e<P;e++)t.beginPath(),t.fillStyle=a[8],t.arc(l.width-(P-1.5*e),e,20,0,2*Math.PI),t.fill(),t.closePath();r=setTimeout(_,100)}function R(){const e=Math.random()*.15+.8;s=Math.floor(e*l.width),n=Math.floor(e*l.height),o=Math.floor(Math.random()*(l.width-s)),i=Math.floor(Math.random()*(l.height-n)),[f,d,m,p]=X([-40,-450,-800,-1300]),u=l.height/2,S()}function S(){t.clearRect(0,0,l.width,l.height),t.fillStyle=a[0],t.fillRect(0,0,20,l.height),t.fillStyle=a[1],t.fillRect(l.width-20,0,20,l.height),t.fillStyle=a[2],t.fillRect(0,0,l.width,10),t.fillStyle=a[3],t.fillRect(0,l.height-20,l.width,20)}setTimeout(()=>{R(),k(R),_()},200),T(B("click",e=>{const g=e.clientX,x=e.clientY,y=g/l.width,C=x/l.height;o=y*(l.width-s),i=C*(l.height-n),S();for(let I=0;I<50;I++)_()}))}),D(()=>{clearTimeout(r)}),E(()=>{c=(c+1)%2,h.push([Math.random()/2+.25,Math.random()/2+.25]),h.length>2&&h.shift()},4e3),H(()=>{f++,d++,m++,p++}),(b,l)=>(Y(),q(U,null,{default:z(()=>[A("canvas",{ref_key:"canvas",ref:M,class:"canvas"},null,512)]),_:1}))}});const ot=N(j,[["__scopeId","data-v-cfb79f9a"]]);export{ot as default};
