import{d as F,q as B,C as D,a2 as E,a3 as H,L as Y,o as j,c as q,w as z,a as A,_ as N}from"./index.5v55a00n.js";import{F as U}from"./FullscreenDisplay.421pqk6v.js";import{u as V}from"./useCanvas.87p0yoq7.js";import{r as W}from"./useRandomColor.3lt16kz3.js";import{s as X}from"./useShuffle.65ly7ulv.js";import"./BookmarkIcon.3wmuqdow.js";import"./VStack.6d7g92uw.js";import"./Field.2ydu2jt8.js";import"./LogoLight.539ztpd2.js";import"./SharedNav.238jku1n.js";import"./useRandint.4l2grpuh.js";const G=F({__name:"the-tunnel",setup(J){const w=B(),a=Array(9).fill().map(W);let c=0,f=0,d=-40;const M=200;let m=-440;const b=300;let h=-800,u=400,p=-1300,v=300,i=0,o=0,s=1,n=1,P=0;const r=[];return V(w,{useDevicePixelRatio:!1}).then(S=>{const{canvas:l,onDispose:T,onResize:C}=S,t=l.getContext("2d");if(!t)throw new Error("Your device doesn't support HTML5 canvases.");function g(){if(clearTimeout(c),t.drawImage(l,i,o,s,n),f===1){t.fillStyle="#00000040",t.fillRect(i,o,s,n);for(const[e,_]of r){const x=e*(l.width-i-128),y=_*(l.height-o-32);t.fillStyle=a[4],t.fillRect(x,y,128,32)}}for(let e=-20;e<d&&e<M;e++)t.beginPath(),t.fillStyle=a[5],t.arc(l.width-(M-e),l.height-e,20,0,2*Math.PI),t.fill(),t.closePath();for(let e=-20;e<m&&e<b;e++)t.beginPath(),t.fillStyle=a[6],t.arc(b-1.5*e,l.height-e,20,0,2*Math.PI),t.fill(),t.closePath();for(let e=-20;e<h&&e<u;e++)t.beginPath(),t.fillStyle=a[7],t.arc(l.width/2+u-e/2+P,l.height-e,20,0,2*Math.PI),t.fill(),t.closePath();for(let e=-20;e<p&&e<v;e++)t.beginPath(),t.fillStyle=a[8],t.arc(l.width-(v-1.5*e),e,20,0,2*Math.PI),t.fill(),t.closePath();c=setTimeout(g,100)}function R(){t.fillStyle="black",t.fillRect(0,0,l.width,l.height);const e=Math.random()*.15+.8;s=Math.floor(e*l.width),n=Math.floor(e*l.height),i=Math.floor(Math.random()*(l.width-s)),o=Math.floor(Math.random()*(l.height-n)),[d,m,h,p]=X([-40,-450,-800,-1300]),u=l.height/2,k()}function k(){t.fillStyle="black",t.fillRect(0,0,l.width,l.height),t.fillStyle=a[0],t.fillRect(0,0,20,l.height),t.fillStyle=a[1],t.fillRect(l.width-20,0,20,l.height),t.fillStyle=a[2],t.fillRect(0,0,l.width,10),t.fillStyle=a[3],t.fillRect(0,l.height-20,l.width,20)}setTimeout(()=>{R(),C(R),g()},200),T(D("click",e=>{const _=e.clientX,x=e.clientY,y=_/l.width,L=x/l.height;i=y*(l.width-s),o=L*(l.height-n),k();for(let I=0;I<50;I++)g()}))}),E(()=>{clearTimeout(c)}),H(()=>{f=(f+1)%2,r.push([Math.random()/2+.25,Math.random()/2+.25]),r.length>2&&r.shift()},4e3),Y(()=>{d++,m++,h++,p++,h>0&&(P-=.25)}),(S,l)=>(j(),q(U,null,{default:z(()=>[A("canvas",{ref_key:"canvas",ref:w,class:"canvas"},null,512)]),_:1}))}});const st=N(G,[["__scopeId","data-v-62156b6b"]]);export{st as default};
