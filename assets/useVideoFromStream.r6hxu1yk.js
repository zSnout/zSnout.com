import{q as c,aA as o,ar as s,aU as u,v}from"./index.3wtsgydi.js";function l(e){const r=c();function a(){r.value&&r.value.getTracks().map(n=>n.stop())}function i(){var n;a(),(n=navigator.mediaDevices)==null||n.getUserMedia({...e,video:{...typeof(e==null?void 0:e.video)=="object"&&(e==null?void 0:e.video),aspectRatio:{ideal:innerWidth/innerHeight}}}).then(t=>r.value=t).catch(()=>{throw new Error("Your device doesn't work with camera applications.")})}return i(),setTimeout(i,1e3),o("resize",s(i,250)),u(a),{stream:r,stop:a,setOpts(n){e=n,i()},retry:i}}function f(e,r){const a=document.createElement("video");return a.playsInline=!0,a.muted=r!=null?r:!1,v(()=>{var i;a.srcObject=(i=e.value)!=null?i:null,a.srcObject&&a.play()}),a}export{f as a,l as u};
