import{a as c,v as o,x as u}from"./main.200onzgm.js";import{r as s,f as d}from"./runtime-core.esm-bundler.55v0mz3f.js";function v(e){const r=s();function t(){r.value&&r.value.getTracks().map(a=>a.stop())}function i(){var a;t(),(a=navigator.mediaDevices)==null||a.getUserMedia({...e,video:{...typeof(e==null?void 0:e.video)=="object"&&(e==null?void 0:e.video),aspectRatio:{ideal:innerWidth/innerHeight}}}).then(n=>r.value=n).catch(()=>{throw new Error("Your device doesn't work with camera applications.")})}return i(),setTimeout(i,1e3),c("resize",o(i,250)),u(t),{stream:r,stop:t,setOpts(a){e=a,i()},retry:i}}function l(e,r){const t=document.createElement("video");return t.playsInline=!0,t.muted=r??!1,d(()=>{t.srcObject=e.value??null,t.srcObject&&t.play()}),t}export{l as a,v as u};
