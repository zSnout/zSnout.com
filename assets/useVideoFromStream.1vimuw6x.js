import{r as c,l as u,I as o,J as s,K as d}from"./index.4z0bzixf.js";function m(e){const a=c();function t(){a.value&&a.value.getTracks().map(r=>r.stop())}function i(){var r;t(),(r=navigator.mediaDevices)==null||r.getUserMedia({...e,video:{...typeof(e==null?void 0:e.video)=="object"&&(e==null?void 0:e.video),aspectRatio:{ideal:innerWidth/innerHeight}}}).then(n=>a.value=n).catch(()=>{throw new Error("Your device doesn't work with camera applications.")})}return i(),setTimeout(i,1e3),u("resize",o(i,250)),s(t),{stream:a,stop:t,setOpts(r){e=r,i()},retry:i}}function v(e,a){const t=document.createElement("video");return t.playsInline=!0,t.muted=a??!1,d(()=>{t.srcObject=e.value??null,t.srcObject&&t.play()}),t}export{v as a,m as u};
