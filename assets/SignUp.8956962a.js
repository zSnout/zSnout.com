import{a as c,B as f,V}from"./Modal.dc2c4486.js";import{D as w}from"./DocumentDisplay.d612cd2c.js";import{F as m}from"./Field.fbcee86d.js";import{u as y}from"./useApi.9f2beb7d.js";import{d as k,k as t,c as B,w as d,o as i,a as U,b as s,f as g,t as x,m as C,e as D,aC as S,aB as _,aD as E}from"./index.70e8d914.js";const I={style:{"min-width":"min(500px, 100%)"}},N=D("Sign Up"),$={key:0},K=k({__name:"SignUp",setup(b){const n=t(""),u=t(""),r=t(""),o=t(""),p=t(!1);async function v(){p.value=!0;const l=await y({api:"account",method:"PUT",body:{username:n.value,password:u.value,email:r.value},resultKeys:["session","username"],desc:"create accounts"});l instanceof Error?o.value=l.message:(S.value=l.session,_.value=l.username,E.replace("/")),p.value=!1}return(l,e)=>(i(),B(w,{center:""},{default:d(()=>[U("form",I,[s(V,null,{default:d(()=>[s(m,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=a=>n.value=a),autocomplete:"username",maxlength:"32",placeholder:"Username...",onInput:e[1]||(e[1]=a=>o.value="")},null,8,["modelValue"]),s(m,{modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=a=>u.value=a),autocomplete:"password",placeholder:"Password...",type:"password",onInput:e[3]||(e[3]=a=>o.value="")},null,8,["modelValue"]),s(m,{modelValue:r.value,"onUpdate:modelValue":e[4]||(e[4]=a=>r.value=a),autocomplete:"email",placeholder:"Email Address...",type:"email",onInput:e[5]||(e[5]=a=>o.value="")},null,8,["modelValue"]),s(c,{size:2}),s(f,{onClick:v},{default:d(()=>[N]),_:1}),o.value?(i(),g("p",$,"Error: "+x(o.value),1)):C("",!0)]),_:1})])]),_:1}))}});export{K as default};
