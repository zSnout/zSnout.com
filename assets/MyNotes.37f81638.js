import{k as c,W as m,d as b,P as $,f as _,b as a,w as o,F as N,Y as u,ad as w,o as i,e as l,t as S,u as s,ab as g,a as y,m as v,c as f,l as V,ae as L,p as M,g as B}from"./index.7e4c8589.js";import{D as I}from"./DocumentDisplay.fb9b74c6.js";import{T}from"./Title.63d0ef32.js";import{C as h,S as D}from"./SearchableCardGrid.239f51ff.js";import{_ as F,c as K,M as O,b as k,F as P}from"./BookmarkIcon.1c8612a0.js";import{C as E}from"./Card.99759ff5.js";const G=r=>(M("data-v-4077bc7e"),r=r(),B(),r),R={key:0},U=l(" Looks like you're not logged in. "),q=l(" or "),W=l(" to access the Notes app. "),Y=l(" New Note "),j=G(()=>y("p",null,"Pick a title for your note.",-1)),z=l(" OK "),A=l("Cancel"),C=c([]);m.on("notes:index",r=>C.value=r);const H=b({__name:"MyNotes",setup(r){const p=c(!1),d=c(!1),n=c("");return $(()=>{m.emit("notes:request:index",u.value)}),(J,e)=>{const x=w("RouterLink");return i(),_(N,null,[a(I,null,{default:o(()=>[a(T,null,{default:o(()=>[l(S(s(g)?`@${s(g)}'s`:"My")+" Notes",1)]),_:1}),s(u)?v("",!0):(i(),_("p",R,[U,y("span",{class:"link",onClick:e[0]||(e[0]=t=>p.value=!0)},"Log in"),q,y("span",{class:"link",onClick:e[1]||(e[1]=t=>p.value=!0)},"create an account"),W])),s(u)?(i(),f(h,{key:1,style:{"margin-bottom":"2em"}},{default:o(()=>[a(k,{onClick:e[2]||(e[2]=t=>(d.value=!0,n.value=""))},{default:o(()=>[Y]),_:1})]),_:1})):v("",!0),s(u)&&C.value.length?(i(),f(D,{key:2,placeholder:"Search your notes..."},{default:o(()=>[(i(!0),_(N,null,V(C.value,t=>(i(),f(x,{to:`/note?id=${t.id}`},{default:o(()=>[a(E,{class:"card text-color",description:t.desc,title:t.title},null,8,["description","title"])]),_:2},1032,["to"]))),256))]),_:1})):v("",!0)]),_:1}),a(K,{open:p.value,"onUpdate:open":e[3]||(e[3]=t=>p.value=t)},null,8,["open"]),a(O,{open:d.value},{buttons:o(()=>[a(k,{onClick:e[6]||(e[6]=t=>n.value&&(s(m).emit("notes:create",s(u),n.value),d.value=!1))},{default:o(()=>[z]),_:1}),a(k,{cancel:"",onClick:e[7]||(e[7]=t=>d.value=!1)},{default:o(()=>[A]),_:1})]),default:o(()=>[j,a(P,{modelValue:n.value,"onUpdate:modelValue":e[4]||(e[4]=t=>n.value=t),autocomplete:"off",placeholder:"Title...",onKeydown:e[5]||(e[5]=L(t=>n.value&&(s(m).emit("notes:create",s(u),n.value),d.value=!1),["enter"]))},null,8,["modelValue"])]),_:1},8,["open"])],64)}}});var ae=F(H,[["__scopeId","data-v-4077bc7e"]]);export{ae as default};
