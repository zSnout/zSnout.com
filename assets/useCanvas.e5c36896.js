import{ao as h,ap as r,W as u,aq as f}from"./index.19cf4057.js";function E(p,{useDevicePixelRatio:a=!0}={}){const e=[];return f(()=>e.forEach(n=>n())),new Promise(n=>{e.push(h(()=>{const o=r(p);if(o instanceof HTMLCanvasElement){const{width:t,height:i}=u(o),c=[];e.push(h(()=>{o.width=t.value*(a?devicePixelRatio:1),o.height=i.value*(a?devicePixelRatio:1),c.forEach(s=>s())})),n({canvas:o,onDispose:s=>e.push(s),onResize:s=>c.push(s),size:{width:t,height:i},dispose(){e.forEach(s=>s()),e.splice(0,e.length)}})}}))})}export{E as u};
