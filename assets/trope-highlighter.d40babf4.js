import{D as k}from"./DocumentDisplay.c14a226d.js";import{B as M}from"./VStack.efeb4d27.js";import{_ as D}from"./plugin-vue_export-helper.21dcd24c.js";import{d as _,s as x,o as T,c as A,w as h,a as G,b as K,e as y}from"./index.b2185335.js";import"./SharedNav.9124e0d9.js";import"./Logo.30c09c6f.js";import"./LogoLight.c7b00eba.js";const C=y("Add coloring"),B=_({__name:"trope-highlighter",setup(N){const n=x(),l={Etnachta:"\u05D1\u0591",SofPassuk:"\u05E1\u05BD",Segol:"\u05D1\u0592",Shalsheconst:"\u05D1\u0593",ZakefKatan:"\u05D1\u0594",ZakefGadol:"\u05D1\u0595",Tifcha:"\u05D1\u0596",Rivia:"\u05D1\u0597",Zarka:"\u05D1\u05AE",Pashta:"\u05D1\u0599",Yetiv:"\u05D1\u059A",Tevir:"\u05D1\u059B",Pazer:"\u05D1\u05A1",QarneFarah:"\u05D1\u059F",TelishaGedola:"\u05D1\u05A0",Geresh:"\u05D1\u059C",Gershayim:"\u05D1\u059E",Mercha:"\u05D1\u05A5",Munach:"\u05D1\u05A3",Mahpach:"\u05D1\u05A4",Darga:"\u05D1\u05A7",Kadma:"\u05D1\u05A8",TelishaKetana:"\u05D1\u05A9",MerchaKefula:"\u05D1\u05A6",YerachBenYomo:"\u05D1\u05AA"};for(const[a,e]of Object.entries(l))l[a]=e[1];const v=Object.entries(l);function b(a){let e=-1,o=null;for(const[r,t]of v)a.indexOf(t)>e&&(e=a.indexOf(t),o=r);return o}function m(a){a.preventDefault();const e=a.clipboardData;if(!e)return;const o=e.getData("text/plain");if(!o)return;const r=document.getSelection();if(!r)return;const t=r.getRangeAt(0);t.deleteContents();const u=document.createTextNode(o);t.insertNode(u),t.selectNodeContents(u),t.collapse(!1),r.removeAllRanges(),r.addRange(t),p(),s()}function s(){if(!n.value)return;const a=[...n.value.childNodes].map(d=>(d.textContent||"").trim()).join(" ");if(!a)return;const e=document.createElement("span");e.textContent=a.trim().replace(/\s+/g," ");const u=e.innerHTML.split(" ").map(d=>({word:d,trope:b(d)})).map(({word:d,trope:c},i,g)=>c=="Munach"&&g[i+1].trope?{word:d,trope:`Munach${g[i+1].trope}`}:{word:d,trope:c}).map(({word:d,trope:c})=>{const i=document.createElement("span");return i.textContent=d,i.classList.add(c),i}),f=[u[0]];for(const d of u.slice(1))f.push(" ",d);n.value.replaceChildren(...f)}function p(){!n.value||n.value.classList.toggle("empty",!!n.value.textContent)}return(a,e)=>(T(),A(k,null,{default:h(()=>[G("div",{ref_key:"field",ref:n,class:"field second-layer",contenteditable:"",onPaste:m}," ...Type or paste some Hebrew text here ",544),K(M,{class:"color light",onClick:s},{default:h(()=>[C]),_:1})]),_:1}))}});var z=D(B,[["__scopeId","data-v-5d67de9a"]]);export{z as default};
