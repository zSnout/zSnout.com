import{D as B}from"./DocumentDisplay.667117df.js";import{_ as M,H as C}from"./Modal.53b5115e.js";import{S,_ as w}from"./runner2.b3768e53.js";import{u as F}from"./useLocationHash.23271a6c.js";import{A as L}from"./AceEditor.7fc91d16.js";import{d as _,o as y,c as R,ad as O,u as $,w as b,b as x,y as W}from"./index.9863c836.js";var H={exports:{}};(function(h,d){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,c,k){var p=t("../lib/oop"),m=t("./text_highlight_rules").TextHighlightRules,g=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};p.inherits(g,m),c.JsonHighlightRules=g}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(t,c,k){var p=t("../range").Range,m=function(){};(function(){this.checkOutdent=function(g,u){return/^\s+$/.test(g)?/^\s*\}/.test(u):!1},this.autoOutdent=function(g,u){var e=g.getLine(u),n=e.match(/^(\s*\})/);if(!n)return 0;var o=n[1].length,s=g.findMatchingBracket({row:u,column:o});if(!s||s.row==u)return 0;var a=this.$getIndent(g.getLine(s.row));g.replace(new p(u,0,u,o-1),a)},this.$getIndent=function(g){return g.match(/^\s*/)[0]}}).call(m.prototype),c.MatchingBraceOutdent=m}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(t,c,k){var p=t("../../lib/oop"),m=t("../../range").Range,g=t("./fold_mode").FoldMode,u=c.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};p.inherits(u,g),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,n,o){var s=e.getLine(o);if(this.singleLineBlockCommentRe.test(s)&&!this.startRegionRe.test(s)&&!this.tripleStarBlockCommentRe.test(s))return"";var a=this._getFoldWidgetBase(e,n,o);return!a&&this.startRegionRe.test(s)?"start":a},this.getFoldWidgetRange=function(e,n,o,s){var a=e.getLine(o);if(this.startRegionRe.test(a))return this.getCommentRegionBlock(e,a,o);var i=a.match(this.foldingStartMarker);if(i){var r=i.index;if(i[1])return this.openingBracketBlock(e,i[1],o,r);var l=e.getCommentFoldRange(o,r+i[0].length,1);return l&&!l.isMultiLine()&&(s?l=this.getSectionRange(e,o):n!="all"&&(l=null)),l}if(n!=="markbegin"){var i=a.match(this.foldingStopMarker);if(i){var r=i.index+i[0].length;return i[1]?this.closingBracketBlock(e,i[1],o,r):e.getCommentFoldRange(o,r,-1)}}},this.getSectionRange=function(e,n){var o=e.getLine(n),s=o.search(/\S/),a=n,r=o.length;n=n+1;for(var l=n,i=e.getLength();++n<i;){o=e.getLine(n);var f=o.search(/\S/);if(f!==-1){if(s>f)break;var v=this.getFoldWidgetRange(e,"all",n);if(v){if(v.start.row<=a)break;if(v.isMultiLine())n=v.end.row;else if(s==f)break}l=n}}return new m(a,r,l,e.getLine(l).length)},this.getCommentRegionBlock=function(e,n,o){for(var s=n.search(/\s*$/),a=e.getLength(),r=o,l=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,i=1;++o<a;){n=e.getLine(o);var f=l.exec(n);if(!!f&&(f[1]?i--:i++,!i))break}var v=o;if(v>r)return new m(r,s,v,n.length)}}.call(u.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(t,c,k){var p=t("../lib/oop"),m=t("./text").Mode,g=t("./json_highlight_rules").JsonHighlightRules,u=t("./matching_brace_outdent").MatchingBraceOutdent,e=t("./behaviour/cstyle").CstyleBehaviour,n=t("./folding/cstyle").FoldMode,o=t("../worker/worker_client").WorkerClient,s=function(){this.HighlightRules=g,this.$outdent=new u,this.$behaviour=new e,this.foldingRules=new n};p.inherits(s,m),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(a,r,l){var i=this.$getIndent(r);if(a=="start"){var f=r.match(/^.*[\{\(\[]\s*$/);f&&(i+=l)}return i},this.checkOutdent=function(a,r,l){return this.$outdent.checkOutdent(r,l)},this.autoOutdent=function(a,r,l){this.$outdent.autoOutdent(r,l)},this.createWorker=function(a){var r=new o(["ace"],"ace/mode/json_worker","JsonWorker");return r.attachToDocument(a.getDocument()),r.on("annotate",function(l){a.setAnnotations(l.data)}),r.on("terminate",function(){a.clearAnnotations()}),r},this.$id="ace/mode/json"}.call(s.prototype),c.Mode=s}),function(){ace.require(["ace/mode/json"],function(t){h&&(h.exports=t)})}()})(H);const j=_({__name:"JSONViewer",props:{value:null,round:{type:Boolean}},emits:["init","save"],setup(h){return(d,t)=>(y(),R(L,{modelValue:JSON.stringify(h.value,void 0,"  "),round:h.round,mode:"json",readonly:"",onInit:t[0]||(t[0]=c=>d.$emit("init",c)),onSave:t[1]||(t[1]=c=>d.$emit("save",c))},null,8,["modelValue","round"]))}}),A=_({__name:"Compiler2",props:{code:null,round:{type:Boolean}},setup(h){const d=h,t=O(()=>S.parse(d.code));return(c,k)=>(y(),R(j,{round:h.round,value:$(t)},null,8,["round","value"]))}});const I=_({__name:"v2-compiler",setup(h){const d=F(`$money = 500
$eggs = 0
$name = (no name)

@start
  $name = @input What is your name?
  @run market

@market
  $name, you have $$$money and $eggs dozen eggs.
  @menu What would you like to buy?
    Eggs
      @eggs
    Go Back
      @pass
  @market

@eggs
  $egg = @number How many dozen eggs do you want to buy?
  $eggprice @= 6 * $egg
  $egg dozen eggs will cost $$$eggprice.
  @menu Are you sure you want to buy them?
    @option Yes
      @if $money > $eggprice
        $money -= $eggprice
        $eggs += $egg
      @elseif $money = $eggprice
        You have just enough money for these eggs.
        $money -= $eggprice
        $eggs += $egg
      @else
        You don't have enough money for these eggs!
    @option No
      Okay, let's go back to the store.`);return(t,c)=>(y(),R(B,{center:"","explicit-height":"","max-width":""},{default:b(()=>[x(C,{class:"stack",space:.75,stretch:"",style:{height:"100%","justify-content":"center"}},{default:b(()=>[x(w,{modelValue:$(d),"onUpdate:modelValue":c[0]||(c[0]=k=>W(d)?d.value=k:null),round:"",style:{"max-width":"800px"}},null,8,["modelValue"]),x(A,{code:$(d),round:"",style:{"max-width":"800px"}},null,8,["code"])]),_:1},8,["space"])]),_:1}))}});var z=M(I,[["__scopeId","data-v-1148b216"]]);export{z as default};
