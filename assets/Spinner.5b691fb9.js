import{d as g,k as c,a8 as _,E as M,r as k,j as d,ay as C,c as P,w as y,o as z,a as B,aq as D}from"./index.54ddb79d.js";import{F as E}from"./FullscreenDisplay.ff99b238.js";import{u as F}from"./useCanvas.327cc2ba.js";import"./Modal.ba58e69a.js";const R=g({__name:"Spinner",setup(S){const h=c(),w=_(),l=c(!1),t=c(0);return F(h).then(v=>{const{canvas:p,onDispose:m,onResize:N,size:a}=v,e=p.getContext("2d");if(!e)throw new Error("Your device doesn't support HTML5 canvases.");let o=NaN,i=NaN;e.translate(a.width.value/2,a.height.value/2);function f(){e.beginPath(),e.fillStyle="white",e.arc(a.width.value/2,a.height.value/2,Math.min(a.width.value/2,a.height.value/2),0,2*Math.PI),e.fill()}f(),N(f),m(M(k({pointer:w,rotation:t}),({pointer:{x:s,y:n}})=>{if(!l.value){o=NaN,i=NaN;return}const r=Math.hypot(a.width.value/2-s,a.height.value/2-n),u=Math.atan2(n-a.height.value/2,s-a.width.value/2);console.log(r,u),[s,n]=[a.width.value/2+r*Math.cos(t.value-u),a.height.value/2-r*Math.sin(t.value-u)],!isNaN(o)&&!isNaN(i)&&(e.beginPath(),e.moveTo(o,i),e.lineTo(s,n),e.stroke()),o=s,i=n}))}),d("pointerdown",()=>l.value=!0),d("pointerup",()=>l.value=!1),C(()=>t.value+=Math.PI/360),(v,p)=>(z(),P(E,null,{default:y(()=>[B("canvas",{ref_key:"canvas",ref:h,class:"canvas",style:D(`transform: rotate(${t.value}rad)`)},null,4)]),_:1}))}});export{R as default};
