import{_ as P,S as y,H as T,L as C,a as D,O as I,U as k,B as O,M as U}from"./Modal.d5b08601.js";import{d as $,m as x,o as S,h as z,e as i,a as l,f as m,R as N,c as V,q as G,s as v,b as M,F as H,g as W,w as _,ao as K,X,ap as Y}from"./index.0c580a93.js";const j=W("OK"),q={class:"content"},J=$({name:"FullscreenDisplay",props:{options:{type:Boolean}},setup(t){const a=x(!1);return(o,e)=>(S(),z(H,null,[i(m(k),{class:"nav",top:""},{default:l(()=>[i(y,null,{default:l(()=>[i(T,{class:"padding"},{default:l(()=>[i(m(N),{to:"/"},{default:l(()=>[i(C,{class:"logo",invert:""})]),_:1}),i(D),o.$slots.options?(S(),V(I,{key:0,class:"options",role:"button",onClick:e[0]||(e[0]=n=>a.value=!a.value)})):G("",!0)]),_:1})]),_:1})]),_:1}),i(U,{open:a.value},{buttons:l(()=>[i(O,{cancel:"",onClick:e[1]||(e[1]=n=>a.value=!a.value)},{default:l(()=>[j]),_:1}),v(o.$slots,"buttons",{},void 0,!0)]),default:l(()=>[v(o.$slots,"options",{},void 0,!0)]),_:3},8,["open"]),M("div",q,[v(o.$slots,"default",{},void 0,!0)])],64))}});var oe=P(J,[["__scopeId","data-v-76992b17"]]);function Q(t){const a=[];return Y(()=>a.forEach(o=>o())),new Promise(o=>{const e=_(()=>{const n=K(t);if(n instanceof HTMLCanvasElement){const{width:u,height:d}=X(n),r=[];typeof e=="function"&&a.push(e);const f=_(()=>{n.width=u.value*devicePixelRatio,n.height=d.value*devicePixelRatio,r.forEach(s=>s())});a.push(f),o({canvas:n,onDispose:s=>a.push(s),onResize:s=>r.push(s),size:{width:u,height:d}})}})})}function A(t,a,o){const e=t.createShader(t[`${a}_SHADER`]);if(!e)throw new Error("An error occurred while compiling a shader.");if(t.shaderSource(e,`#version 300 es
`+o.trim()),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS))return e;throw console.log(t.getShaderInfoLog(e)),t.deleteShader(e),new Error("An error occurred while compiling a shader.")}function Z(t,a,o){let e=t.createProgram();if(!e)throw new Error("An error occurred while creating a WebGL program.");let n=A(t,"VERTEX",a),u=A(t,"FRAGMENT",o);if(t.attachShader(e,n),t.attachShader(e,u),t.linkProgram(e),t.getProgramParameter(e,t.LINK_STATUS))return e;throw console.log(t.getProgramInfoLog(e)),t.deleteProgram(e),new Error("An error occurred while creating a WebGL program.")}const ee=`
precision highp float;
in vec2 _pos;
out vec2 pos;

void main() {
  gl_Position = vec4(pos = _pos, 0, 1);
}`;async function ae(t,a,o){var g;const e=await Q(t),{canvas:n,onResize:u,onDispose:d}=e,r=n.getContext("webgl2",{preserveDrawingBuffer:o==null?void 0:o.preserveDrawingBuffer});if(!r)throw new Error("An error occurred while initializing the context.");const f=Z(r,(g=o==null?void 0:o.vertShader)!=null?g:ee,a);r.useProgram(f);const s=r.getAttribLocation(f,"_pos");r.enableVertexAttribArray(s);const E=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,E),r.bufferData(r.ARRAY_BUFFER,new Float32Array([1,1,0,1,1,0,0,1,1,0,0,0]),r.STATIC_DRAW),r.vertexAttribPointer(s,2,r.FLOAT,!1,0,0);function h(){r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.viewport(-n.width,-n.height,2*n.width,2*n.height),r.drawArrays(r.TRIANGLES,0,6)}let p=!1;const R=setInterval(()=>{p&&(p=!1,h())});return d(()=>clearInterval(R)),u(h),Object.assign(e,{gl:r,program:f,render:h,useUniform(b,L,B){const w=r.getUniformLocation(f,b);if(!w)return;const F=_(()=>{let c=m(B);typeof c=="number"&&(c=[c]),!(c.length<1||c.length>4)&&(r[`uniform${c.length}${L}v`](w,c),p=!0)});d(F)}})}export{oe as F,ae as u};
