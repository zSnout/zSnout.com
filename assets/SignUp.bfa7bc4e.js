import{a as v,B as V,V as _}from"./Modal.b637e5ba.js";import{D as w}from"./DocumentDisplay.3ca2c729.js";import{F as d}from"./Field.7a69ece7.js";import{L as i}from"./Labeled.7f2b9c61.js";import{_ as y}from"./LabelGrid.218a1d5a.js";import{u as U}from"./useApi.9f2beb7d.js";import{d as b,k as u,c as k,w as o,o as f,a as B,b as a,f as g,t as x,m as C,e as D,aC as E,aB as S,aD as $}from"./index.e01a32a1.js";const I={style:{"min-width":"min(500px, 100%)"}},N=D("Sign Up"),P={key:0},G=b({__name:"SignUp",setup(A){const n=u(""),r=u(""),m=u(""),s=u(""),p=u(!1);async function c(){p.value=!0;const t=await U({api:"account",method:"PUT",body:{username:n.value,password:r.value,email:m.value},resultKeys:["session","username"],desc:"create accounts"});t instanceof Error?s.value=t.message:(E.value=t.session,S.value=t.username,$.replace("/")),p.value=!1}return(t,e)=>(f(),k(w,{center:""},{default:o(()=>[B("form",I,[a(_,null,{default:o(()=>[a(y,null,{default:o(()=>[a(i,{label:"Username"},{default:o(()=>[a(d,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l),autocomplete:"username",maxlength:"32",placeholder:"Username...",onInput:e[1]||(e[1]=l=>s.value="")},null,8,["modelValue"])]),_:1}),a(i,{label:"Password"},{default:o(()=>[a(d,{modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=l=>r.value=l),autocomplete:"password",placeholder:"Password...",type:"password",onInput:e[3]||(e[3]=l=>s.value="")},null,8,["modelValue"])]),_:1}),a(i,{label:"Email"},{default:o(()=>[a(d,{modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=l=>m.value=l),autocomplete:"email",placeholder:"Email Address...",type:"email",onInput:e[5]||(e[5]=l=>s.value="")},null,8,["modelValue"])]),_:1})]),_:1}),a(v,{size:2}),a(V,{onClick:c},{default:o(()=>[N]),_:1}),s.value?(f(),g("p",P,"Error: "+x(s.value),1)):C("",!0)]),_:1})])]),_:1}))}});export{G as default};
