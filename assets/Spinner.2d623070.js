import{d as P,k as c,a8 as b,as as y,au as x,E as D,r as F,j as C,ay as z,c as B,w as m,o as E,b as S,a as u,aq as H,p as T,g as $}from"./index.af49f48b.js";import{F as L}from"./FullscreenDisplay.ab05add2.js";import{u as R}from"./useCanvas.f0bd40cc.js";import{_ as V,a as Y,H as j}from"./Modal.5a2acce5.js";const q=v=>(T("data-v-32855824"),v=v(),$(),v),X=q(()=>u("span",null,"/",-1)),A=P({__name:"Spinner",setup(v){const w=c(),I=b(),p=c(!1),s=c(0),h=c(),d=y(Math.PI/360,Math.PI/1440,Math.PI/8);return R(w).then(N=>{const{canvas:t,onDispose:n,onResize:k,size:a}=N,e=t.getContext("2d"),M=x(()=>Math.min(a.width.value/2,a.height.value/2));if(!e)throw new Error("Your device doesn't support HTML5 canvases.");let o=NaN,l=NaN;e.translate(a.width.value/2,a.height.value/2);function f(){e.beginPath(),e.fillStyle="white",e.arc(a.width.value/2,a.height.value/2,M.value,0,2*Math.PI),e.fill()}h.value=f,f(),k(f),n(D(F({pointer:I,rotation:s}),({pointer:{x:r,y:i}})=>{if(!p.value){o=NaN,l=NaN;return}const _=Math.hypot(a.width.value/2-r,a.height.value/2-i),g=Math.atan2(i-a.height.value/2,r-a.width.value/2);if(_>M.value){o=NaN,l=NaN;return}[r,i]=[a.width.value/2+_*Math.cos(s.value-g),a.height.value/2-_*Math.sin(s.value-g)],!isNaN(o)&&!isNaN(l)&&(e.beginPath(),e.moveTo(o,l),e.lineTo(r,i),e.stroke()),o=r,l=i}))}),C("pointerdown",()=>p.value=!0),C("pointerup",()=>p.value=!1),z(()=>s.value+=d.value),(N,t)=>(E(),B(L,null,{indicator:m(()=>[S(j,null,{default:m(()=>[u("span",{class:"button",onClick:t[0]||(t[0]=n=>d.value-=Math.min(Math.PI/1440))}," Slower "),X,u("span",{class:"button",onClick:t[1]||(t[1]=n=>d.value+=Math.min(Math.PI/1440))}," Faster "),S(Y),u("span",{class:"button",onClick:t[2]||(t[2]=(...n)=>h.value&&h.value(...n))},"Clear Canvas")]),_:1})]),default:m(()=>[u("canvas",{ref_key:"canvas",ref:w,class:"canvas",style:H(`transform: rotate(${s.value}rad)`)},null,4)]),_:1}))}});var Q=V(A,[["__scopeId","data-v-32855824"]]);export{Q as default};
