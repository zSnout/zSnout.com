import{b as f,h as p,t as m}from"./main.200onzgm.js";import{h}from"./runtime-core.esm-bundler.47vl3tei.js";function v(l,{useDevicePixelRatio:i=!0}={}){const s=[];return m(()=>s.forEach(n=>n())),new Promise(n=>{s.push(h(()=>{const t=f(l);if(t instanceof HTMLCanvasElement){const{width:r,height:a}=p(t),c=[],u=()=>{t.width=r.value*(i?devicePixelRatio:1)*(o??1),t.height=a.value*(i?devicePixelRatio:1)*(o??1),c.forEach(e=>e())};let o=t.resolution??1;Object.defineProperty(t,"resolution",{configurable:!0,enumerable:!1,get(){return o},set(e){o=e,u()}}),s.push(h(u)),n({canvas:t,onDispose:e=>s.push(e),onResize:e=>c.push(e),size:{width:r,height:a},dispose(){s.forEach(e=>e()),s.splice(0,s.length)}})}}))})}export{v as u};
