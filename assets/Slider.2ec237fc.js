import{d as E,k as p,a8 as F,as as I,E as P,r as x,j as R,ay as H,c as M,w,o as X,b as T,a as o,aq as B,u as N,aC as k,p as j,g as A}from"./index.aff5133f.js";import{F as L}from"./FullscreenDisplay.434a2643.js";import{_ as V,a as W,H as Y}from"./Modal.3a0877aa.js";import{u as q}from"./useCanvas.7b4e6f25.js";const G=u=>(j("data-v-54d766ae"),u=u(),A(),u),J=G(()=>o("span",null,"/",-1)),K=E({__name:"Slider",setup(u){const S=p(),C=p(),$=F(),d=p(!1),r=p(0),y=[],f=I(1,.25,100);for(let s of[S,C])q(s,{useDevicePixelRatio:!1}).then(t=>{const{canvas:c,onDispose:_,onResize:z,size:D}=t,{width:n,height:m}=D,a=c.getContext("2d");if(!a)throw new Error("Your device doesn't support HTML5 canvases.");let l=NaN,v=NaN;function h(){a.fillStyle="white",a.fillRect(0,0,n.value,m.value)}y.push(h),h(),z(h),_(P(x({pointer:$,rotation:r}),({pointer:{x:e,y:i}})=>{if(!d.value){l=NaN,v=NaN;return}e=(e-r.value)%n.value,e<0&&(e+=n.value),!isNaN(l)&&!isNaN(v)&&Math.abs(l-e)<n.value/2&&(a.beginPath(),a.moveTo(l,v),a.lineTo(e,i),a.stroke()),l=e,v=i})),setTimeout(()=>{const e=()=>Math.random()*200-100;for(let[i,g]of[[0,0],[-200,100],[100,300],[70,-250]])a.beginPath(),a.moveTo(n.value/2+i+e(),m.value/2+g+e()),a.lineTo(n.value/2+i+e(),m.value/2+g+e()),a.stroke()})});R("pointerdown",()=>d.value=!0),R("pointerup",()=>d.value=!1),H(()=>r.value+=f.value);function b(s){return s>innerWidth?s-2*innerWidth:s}return(s,t)=>(X(),M(L,null,{indicator:w(()=>[T(Y,null,{default:w(()=>[o("span",{class:"button",onClick:t[0]||(t[0]=c=>f.value-=.25)},"Slower"),J,o("span",{class:"button",onClick:t[1]||(t[1]=c=>f.value+=.25)},"Faster"),T(W),o("span",{class:"button",onClick:t[2]||(t[2]=c=>y.forEach(_=>_()))}," Clear ")]),_:1})]),default:w(()=>[o("canvas",{ref_key:"canvasA",ref:S,class:"canvas",style:B(`transform: translateX(${b(r.value%(2*N(k)))}px)`)},null,4),o("canvas",{ref_key:"canvasB",ref:C,class:"canvas",style:B(`transform: translateX(${b((r.value+N(k))%(2*N(k)))}px)`)},null,4)]),_:1}))}});var ee=V(K,[["__scopeId","data-v-54d766ae"]]);export{ee as default};
