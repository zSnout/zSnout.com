import{f as N}from"./_plugin-vue_export-helper.4yxwi37t.js";import{B as v}from"./VStack.3evi6szx.js";import{C as T}from"./Card.4h2z4e59.js";import{C as V}from"./CardGrid.1kdxvvm0.js";import{D as _}from"./DocumentDisplay.6d0yf2eg.js";import{F as B}from"./Field.5c7fkv56.js";import{_ as w,M as D}from"./BookmarkIcon.46krkaf8.js";import{S as L}from"./SearchableCardGrid.7foww6wh.js";import{T as E}from"./Title.4eiq6n5a.js";import{c as d,s as i,A as x}from"./main.200onzgm.js";import{l as F,r as f,f as M,x as u,y as k,F as a,D as l,G as $,H as r,I as S,u as o,a8 as g,E as C,C as y,ag as b}from"./runtime-core.esm-bundler.55v0mz3f.js";import"./useDateOf.chuxq7z2.js";import"./MaybeLink.vue_vue_type_script_setup_true_lang.nijdkso1.js";import"./Navigation.vue_vue_type_script_setup_true_lang.4wr1p5fg.js";import"./Logo.vue_vue_type_script_setup_true_lang.2nyidlx8.js";import"./LogoLight.3fmf1259.js";import"./SharedNav.4z4l3m5g.js";function G(p){const n=document.createElement("p");return n.innerHTML=p,n.textContent||""}const K={key:0},O=g("p",null,"Pick a title for your note.",-1),c=f([]);d.on("notes:index",p=>c.value=p);const oe=F({__name:"my-notes",setup(p){const n=f(!1),m=f(!1),s=f("");return M(()=>{d.emit("notes:request:index",i.value)}),(H,e)=>(u(),k($,null,[a(_,null,{default:l(()=>[a(E,null,{default:l(()=>[r(S(o(x)?`${o(x)}'s`:"My")+" Notes",1)]),_:1}),o(i)?C("",!0):(u(),k("p",K,[r(" Looks like you're not logged in. "),g("span",{class:"link",onClick:e[0]||(e[0]=t=>n.value=!0)},"Log in"),r(" or "),g("span",{class:"link",onClick:e[1]||(e[1]=t=>n.value=!0)},"create an account"),r(" to access the Notes app. ")])),o(i)&&c.value.length<100?(u(),y(V,{key:1,style:{"margin-bottom":"2em"}},{default:l(()=>[a(v,{onClick:e[2]||(e[2]=t=>(m.value=!0,s.value=""))},{default:l(()=>[r(" New Note ")]),_:1})]),_:1})):C("",!0),o(i)&&c.value.length?(u(),y(L,{key:2,placeholder:"Search your notes..."},{default:l(()=>[(u(!0),k($,null,b(c.value,t=>(u(),y(T,{class:"card text-color",description:o(G)(t.desc),title:t.title,to:`/note?id=${t.id}`},null,8,["description","title","to"]))),256))]),_:1})):C("",!0)]),_:1}),a(w,{open:n.value,"onUpdate:open":e[3]||(e[3]=t=>n.value=t)},null,8,["open"]),a(D,{open:m.value},{buttons:l(()=>[a(v,{onClick:e[6]||(e[6]=t=>s.value&&(o(d).emit("notes:create",o(i),s.value),m.value=!1))},{default:l(()=>[r(" OK ")]),_:1}),a(v,{cancel:"",onClick:e[7]||(e[7]=t=>m.value=!1)},{default:l(()=>[r("Cancel")]),_:1})]),default:l(()=>[O,a(B,{modelValue:s.value,"onUpdate:modelValue":e[4]||(e[4]=t=>s.value=t),autocomplete:"off",placeholder:"Title...",onKeydown:e[5]||(e[5]=N(t=>s.value&&(o(d).emit("notes:create",o(i),s.value),m.value=!1),["enter"]))},null,8,["modelValue"])]),_:1},8,["open"])],64))}});export{oe as default};
