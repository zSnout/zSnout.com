import{s as c,aA as f,d as $,aw as w,o as i,f as _,b as n,w as o,e as u,t as S,u as a,aS as x,aC as d,a as C,q as v,c as k,F as g,k as T,aU as V,p as b,g as L,aV as M}from"./index.b44de49b.js";import{_ as h,B as y}from"./VStack.37d2f7f6.js";import{C as B}from"./Card.3e0459d5.js";import{C as I}from"./CardGrid.f6e1d40c.js";import{D}from"./DocumentDisplay.4b426dde.js";import{_ as F,F as E,M as K}from"./SharedNav.8d8fd594.js";import{S as O}from"./SearchableCardGrid.12779345.js";import{T as U}from"./Title.705f5480.js";function q(s){const l=document.createElement("p");return l.innerHTML=s,l.textContent||""}const G=s=>(b("data-v-c2faf6be"),s=s(),L(),s),P={key:0},R=u(" Looks like you're not logged in. "),A=u(" or "),H=u(" to access the Notes app. "),j=u(" New Note "),z=G(()=>C("p",null,"Pick a title for your note.",-1)),J=u(" OK "),Q=u("Cancel"),m=c([]);f.on("notes:index",s=>m.value=s);const W=$({__name:"MyNotes",setup(s){const l=c(!1),p=c(!1),r=c("");return w(()=>{f.emit("notes:request:index",d.value)}),(X,e)=>{const N=M("RouterLink");return i(),_(g,null,[n(D,null,{default:o(()=>[n(U,null,{default:o(()=>[u(S(a(x)?`@${a(x)}'s`:"My")+" Notes",1)]),_:1}),a(d)?v("",!0):(i(),_("p",P,[R,C("span",{class:"link",onClick:e[0]||(e[0]=t=>l.value=!0)},"Log in"),A,C("span",{class:"link",onClick:e[1]||(e[1]=t=>l.value=!0)},"create an account"),H])),a(d)&&m.value.length<100?(i(),k(I,{key:1,style:{"margin-bottom":"2em"}},{default:o(()=>[n(y,{onClick:e[2]||(e[2]=t=>(p.value=!0,r.value=""))},{default:o(()=>[j]),_:1})]),_:1})):v("",!0),a(d)&&m.value.length?(i(),k(O,{key:2,placeholder:"Search your notes..."},{default:o(()=>[(i(!0),_(g,null,T(m.value,t=>(i(),k(N,{to:`/note?id=${t.id}`},{default:o(()=>[n(B,{class:"card text-color",description:a(q)(t.desc),title:t.title},null,8,["description","title"])]),_:2},1032,["to"]))),256))]),_:1})):v("",!0)]),_:1}),n(F,{open:l.value,"onUpdate:open":e[3]||(e[3]=t=>l.value=t)},null,8,["open"]),n(K,{open:p.value},{buttons:o(()=>[n(y,{onClick:e[6]||(e[6]=t=>r.value&&(a(f).emit("notes:create",a(d),r.value),p.value=!1))},{default:o(()=>[J]),_:1}),n(y,{cancel:"",onClick:e[7]||(e[7]=t=>p.value=!1)},{default:o(()=>[Q]),_:1})]),default:o(()=>[z,n(E,{modelValue:r.value,"onUpdate:modelValue":e[4]||(e[4]=t=>r.value=t),autocomplete:"off",placeholder:"Title...",onKeydown:e[5]||(e[5]=V(t=>r.value&&(a(f).emit("notes:create",a(d),r.value),p.value=!1),["enter"]))},null,8,["modelValue"])]),_:1},8,["open"])],64)}}});var le=h(W,[["__scopeId","data-v-c2faf6be"]]);export{le as default};
