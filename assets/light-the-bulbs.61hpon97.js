import{d as N,I as $,C as O,o as h,c as B,w as s,e as f,h as g,E as b,F as A,n as q,b as k,_ as G}from"./index.5r9exxgm.js";import{B as y,V as J}from"./VStack.xad5wxbj.js";import{D as P}from"./DocumentDisplay.633jhlro.js";import{H as v,S as Q}from"./BookmarkIcon.1thszj4g.js";import"./Navigation.vue_vue_type_script_setup_true_lang.5cehk67t.js";import"./Logo.vue_vue_type_script_setup_true_lang.5f5g8ttt.js";import"./LogoLight.539ztpd2.js";import"./SharedNav.28xyli12.js";import"./Field.2ydu2jt8.js";const U=["onClick"],W=N({__name:"light-the-bulbs",setup(X){let r=0;const i=[],n=$([]);let u;function E(t){return t}function H(t){return t.every(E)}function M(){return n.every(H)}function S(t){for(let e=0;e<r;e++)n[t-1][e]||a(t,e)}function R(t){w();for(let e=0;e<r/2;e++)t&2**e&&(a(0,e),e!=r-e&&a(0,r-1-e));for(let e=1;e<r;e++)S(e)}function T(t){w();for(let e=0;e<r;e++)t&2**e&&a(0,e);for(let e=1;e<r;e++)S(e)}function V(){const t=2**Math.ceil(r/2);for(let o=0;o<t;o++)if(R(o),M())return u=i.map(l=>[...l]),!0;const e=2**r;for(let o=0;o<e;o++)if(T(o),M())return u=i.map(l=>[...l]),!0;return u=void 0,!1}const D=()=>Array(r).fill(!1);function C(t){const e=Array.from({length:r});t.splice(0,n.length,...e.map(D))}function w(){C(n),C(i)}function _(t=!0){t&&(C(i),V()),w();for(let e=0;e<1e3;e++)F()}r=5,_();function F(){a(Math.floor(Math.random()*r),Math.floor(Math.random()*r))}function d(t,e){t>=0&&t<r&&e>=0&&e<r&&(n[t][e]=!n[t][e])}function a(t,e){i[t][e]=!i[t][e],d(t,e),d(t-1,e),d(t+1,e),d(t,e-1),d(t,e+1)}function K(){r--,r<3&&(r=3),_()}function z(){r++,_()}function I(){n.map(t=>t.fill(!1)),i.map(t=>t.fill(!1))}function x(t=!0){if(!u)return;const e=u.flatMap((c,m)=>c.map((p,L)=>[m,L,p])).filter(([c,m,p])=>(t?!p:p)==i[c][m]);if(e.length==0)return;const[o,l]=e[Math.floor(Math.random()*e.length)];a(o,l)}return O("keydown",t=>{if(!t.altKey&&!t.ctrlKey&&!t.metaKey){if(t.key=="a"){const e=[];for(let o=0;o<r;o++)for(let l=0;l<r;l++)n[o][l]&&e.push([o,l]);for(const[o,l]of e)a(o,l)}if(t.key=="A"){const e=[];for(let o=0;o<r;o++)for(let l=0;l<r;l++)n[o][l]||e.push([o,l]);for(const[o,l]of e)a(o,l)}t.key=="h"&&x(),t.key=="H"&&x(!1)}}),(t,e)=>(h(),B(P,{center:""},{default:s(()=>[f(J,null,{default:s(()=>[(h(!0),g(A,null,b(n,(o,l)=>(h(),B(v,null,{default:s(()=>[(h(!0),g(A,null,b(o,(c,m)=>(h(),g("div",{class:q([{lighted:c,"second-layer":c,outline:!c},"cell"]),onClick:p=>a(l,m)},null,10,U))),256))]),_:2},1024))),256)),f(Q),f(v,{stretch:""},{default:s(()=>[f(y,{onClick:e[0]||(e[0]=o=>_(!1))},{default:s(()=>[k("Shuffle")]),_:1}),f(y,{onClick:I},{default:s(()=>[k("Reset")]),_:1})]),_:1}),f(v,{stretch:""},{default:s(()=>[f(y,{onClick:K},{default:s(()=>[k("Easier")]),_:1}),f(y,{onClick:z},{default:s(()=>[k("Harder")]),_:1})]),_:1})]),_:1})]),_:1}))}});const ae=G(W,[["__scopeId","data-v-149a181e"]]);export{ae as default};
