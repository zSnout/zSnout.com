import{V as I,B as H}from"./VStack.3evi6szx.js";import{D as C}from"./DocumentDisplay.6d0yf2eg.js";import{F}from"./Field.5c7fkv56.js";import{a as B}from"./_plugin-vue_export-helper.4yxwi37t.js";import{x as s,y as c,z as N,l as T,r as i,j as O,C as V,D as o,F as a,H as b,E as p,I as g,a9 as h,G as L,ah as P}from"./runtime-core.esm-bundler.47vl3tei.js";import{H as R,S as y}from"./BookmarkIcon.46krkaf8.js";import{M as $}from"./MiddleText.496cwyq8.js";import{c as S}from"./main.200onzgm.js";import"./Navigation.vue_vue_type_script_setup_true_lang.4wr1p5fg.js";import"./Logo.vue_vue_type_script_setup_true_lang.2nyidlx8.js";import"./LogoLight.3fmf1259.js";import"./SharedNav.4z4l3m5g.js";const E={},M={class:"heading"};function Y(D,r){return s(),c("h2",M,[N(D.$slots,"default",{},void 0,!0)])}const U=B(E,[["render",Y],["__scopeId","data-v-684da2ab"]]),j={key:2},z=["src"],G={class:"format"},Q={class:"format"},W=["href"],J=T({__name:"youtube-downloader",setup(D){const r=i(""),w=i(""),k=i(""),x=O([]),_=i(!0),n=i(!1);function A(l){return 2*+l.hasVideo+ +l.hasAudio}function v(l){l==null||l.preventDefault();let u=r.value;try{const e=new URL(u).searchParams.get("v");e&&(u=e)}catch{}_.value=!1,n.value=!0,S.emit("youtube:request",u),S.once("youtube:results",(e,m)=>{e===u&&(n.value=!1,k.value=m.thumbnail,w.value=m.title,x.push(...m.formats.filter(t=>{const d=t.quality||t.audio;return m.formats.find(f=>(f.quality||f.audio)===d&&f.hasAudio===t.hasAudio&&f.hasVideo===t.hasVideo)===t}).sort((t,d)=>parseInt(d.quality)-parseInt(t.quality)).sort((t,d)=>A(d)-A(t))))})}const q=new URL(location.href).searchParams.get("url");return q&&(r.value=q,setTimeout(v,100)),(l,u)=>(s(),V(C,{center:""},{default:o(()=>[a($,null,{default:o(()=>[_.value||n.value?(s(),V(U,{key:0},{default:o(()=>[b("YouTube Video Downloader")]),_:1})):p("",!0),_.value?(s(),c("form",{key:1,onSubmit:v},[a(I,null,{default:o(()=>[a(F,{modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=e=>r.value=e),placeholder:"Paste the video URL..."},null,8,["modelValue"]),a(H,{onClick:v},{default:o(()=>[b("Download Video")]),_:1})]),_:1})],32)):p("",!0),n.value?(s(),c("div",j,"Downloading your video...")):p("",!0),!_.value&&!n.value?(s(),c(L,{key:3},[a(U,null,{default:o(()=>[b(g(w.value),1)]),_:1}),h("img",{class:"second-layer thumbnail",src:k.value},null,8,z),a(I,null,{default:o(()=>[(s(!0),c(L,null,P(x,e=>(s(),V(R,{class:"format",stretch:""},{default:o(()=>[h("p",G,g(e.quality||(e.audio==="AUDIO_QUALITY_LOW"?"Low":"High")),1),a(y),h("p",Q,g(e.hasVideo&&e.hasAudio?"Video/Audio":e.hasVideo?"Video Only":e.hasAudio?"Audio Only":"Nonexistent"),1),a(y),a(y),a(y),h("a",{class:"second-layer",href:e.url,target:"_blank"}," Download ",8,W)]),_:2},1024))),256))]),_:1})],64)):p("",!0)]),_:1})]),_:1}))}});const ie=B(J,[["__scopeId","data-v-bd67e67d"]]);export{ie as default};
