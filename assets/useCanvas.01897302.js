import{Q as h,S as r,a1 as u,a2 as f}from"./index.3fd24dee.js";function E(p,{useDevicePixelRatio:t=!0}={}){const e=[];return f(()=>e.forEach(o=>o())),new Promise(o=>{e.push(h(()=>{const n=r(p);if(n instanceof HTMLCanvasElement){const{width:a,height:i}=u(n),c=[];e.push(h(()=>{n.width=a.value*(t?devicePixelRatio:1),n.height=i.value*(t?devicePixelRatio:1),c.forEach(s=>s())})),o({canvas:n,onDispose:s=>e.push(s),onResize:s=>c.push(s),size:{width:a,height:i},dispose(){e.forEach(s=>s()),e.splice(0,e.length)}})}}))})}export{E as u};
