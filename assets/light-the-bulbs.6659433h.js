import{d as $,x as I,l as O,c as B,w as s,o as _,e as i,f as v,v as b,F as A,y as q,b as k,_ as G}from"./index.xh0zaea0.js";import{B as y,V as J}from"./VStack.3evi6szx.js";import{D as P}from"./DocumentDisplay.6d0yf2eg.js";import{H as g,S as Q}from"./BookmarkIcon.46krkaf8.js";import"./Navigation.vue_vue_type_script_setup_true_lang.4wr1p5fg.js";import"./Logo.vue_vue_type_script_setup_true_lang.2nyidlx8.js";import"./LogoLight.3fmf1259.js";import"./SharedNav.4z4l3m5g.js";import"./Field.5c7fkv56.js";const U=["onClick"],W=$({__name:"light-the-bulbs",setup(X){let r=0;const f=[],n=I([]);let u;function H(t){return t}function R(t){return t.every(H)}function x(){return n.every(R)}function M(t){for(let e=0;e<r;e++)n[t-1][e]||a(t,e)}function T(t){w();for(let e=0;e<r/2;e++)t&2**e&&(a(0,e),e!=r-e&&a(0,r-1-e));for(let e=1;e<r;e++)M(e)}function V(t){w();for(let e=0;e<r;e++)t&2**e&&a(0,e);for(let e=1;e<r;e++)M(e)}function D(){const t=2**Math.ceil(r/2);for(let o=0;o<t;o++)if(T(o),x())return u=f.map(l=>[...l]),!0;const e=2**r;for(let o=0;o<e;o++)if(V(o),x())return u=f.map(l=>[...l]),!0;return u=void 0,!1}const E=()=>Array(r).fill(!1);function C(t){const e=Array.from({length:r});t.splice(0,n.length,...e.map(E))}function w(){C(n),C(f)}function h(t=!0){t&&(C(f),D()),w();for(let e=0;e<1e3;e++)F()}r=5,h();function F(){a(Math.floor(Math.random()*r),Math.floor(Math.random()*r))}function d(t,e){t>=0&&t<r&&e>=0&&e<r&&(n[t][e]=!n[t][e])}function a(t,e){f[t][e]=!f[t][e],d(t,e),d(t-1,e),d(t+1,e),d(t,e-1),d(t,e+1)}function K(){r--,r<3&&(r=3),h()}function z(){r++,h()}function L(){n.map(t=>t.fill(!1)),f.map(t=>t.fill(!1))}function S(t=!0){if(!u)return;const e=u.flatMap((c,m)=>c.map((p,N)=>[m,N,p])).filter(([c,m,p])=>(t?!p:p)==f[c][m]);if(e.length==0)return;const[o,l]=e[Math.floor(Math.random()*e.length)];a(o,l)}return O("keydown",t=>{if(!t.altKey&&!t.ctrlKey&&!t.metaKey){if(t.key=="a"){const e=[];for(let o=0;o<r;o++)for(let l=0;l<r;l++)n[o][l]&&e.push([o,l]);for(const[o,l]of e)a(o,l)}if(t.key=="A"){const e=[];for(let o=0;o<r;o++)for(let l=0;l<r;l++)n[o][l]||e.push([o,l]);for(const[o,l]of e)a(o,l)}t.key=="h"&&S(),t.key=="H"&&S(!1)}}),(t,e)=>(_(),B(P,{center:""},{default:s(()=>[i(J,null,{default:s(()=>[(_(!0),v(A,null,b(n,(o,l)=>(_(),B(g,null,{default:s(()=>[(_(!0),v(A,null,b(o,(c,m)=>(_(),v("div",{class:q([{lighted:c,"second-layer":c,outline:!c},"cell"]),onClick:p=>a(l,m)},null,10,U))),256))]),_:2},1024))),256)),i(Q),i(g,{stretch:""},{default:s(()=>[i(y,{onClick:e[0]||(e[0]=o=>h(!1))},{default:s(()=>[k("Shuffle")]),_:1}),i(y,{onClick:L},{default:s(()=>[k("Reset")]),_:1})]),_:1}),i(g,{stretch:""},{default:s(()=>[i(y,{onClick:K},{default:s(()=>[k("Easier")]),_:1}),i(y,{onClick:z},{default:s(()=>[k("Harder")]),_:1})]),_:1})]),_:1})]),_:1}))}});const ae=G(W,[["__scopeId","data-v-149a181e"]]);export{ae as default};
