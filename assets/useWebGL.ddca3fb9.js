import{_ as y,S as T,H as C,L as I,a as D,O as k,U,B as $,M as O}from"./Modal.f7f4a646.js";import{d as z,m as N,o as S,h as x,e as i,a as l,f as m,R as V,c as G,q as M,s as v,b as H,F as W,g as K,w as d,ao as X,X as Y,ap as q}from"./index.06bea12c.js";const j=K("OK"),J={class:"content"},Q=z({name:"FullscreenDisplay",props:{options:{type:Boolean}},setup(r){const a=N(!1);return(o,e)=>(S(),x(W,null,[i(m(U),{class:"nav",top:""},{default:l(()=>[i(T,null,{default:l(()=>[i(C,{class:"padding"},{default:l(()=>[i(m(V),{to:"/"},{default:l(()=>[i(I,{class:"logo",invert:""})]),_:1}),i(D),o.$slots.options?(S(),G(k,{key:0,class:"options",role:"button",onClick:e[0]||(e[0]=s=>a.value=!a.value)})):M("",!0)]),_:1})]),_:1})]),_:1}),i(O,{open:a.value},{buttons:l(()=>[i($,{cancel:"",onClick:e[1]||(e[1]=s=>a.value=!a.value)},{default:l(()=>[j]),_:1}),v(o.$slots,"buttons",{},void 0,!0)]),default:l(()=>[v(o.$slots,"options",{},void 0,!0)]),_:3},8,["open"]),H("div",J,[v(o.$slots,"default",{},void 0,!0)])],64))}});var ae=y(Q,[["__scopeId","data-v-cbcf09da"]]);function Z(r){return new Promise(a=>{d(()=>{const o=X(r);if(o instanceof HTMLCanvasElement){const{width:e,height:s}=Y(o),n=[];d(()=>{o.width=e.value,o.height=s.value,n.forEach(u=>u())}),a({canvas:o,onResize:u=>n.push(u),size:{width:e,height:s}})}})})}function A(r,a,o){const e=r.createShader(r[`${a}_SHADER`]);if(!e)throw new Error("An error occurred while compiling a shader.");if(r.shaderSource(e,`#version 300 es
`+o.trim()),r.compileShader(e),r.getShaderParameter(e,r.COMPILE_STATUS))return e;throw console.log(r.getShaderInfoLog(e)),r.deleteShader(e),new Error("An error occurred while compiling a shader.")}function ee(r,a,o){let e=r.createProgram();if(!e)throw new Error("An error occurred while creating a WebGL program.");let s=A(r,"VERTEX",a),n=A(r,"FRAGMENT",o);if(r.attachShader(e,s),r.attachShader(e,n),r.linkProgram(e),r.getProgramParameter(e,r.LINK_STATUS))return e;throw console.log(r.getProgramInfoLog(e)),r.deleteProgram(e),new Error("An error occurred while creating a WebGL program.")}const re=`
precision highp float;
in vec2 _pos;
out vec2 pos;

void main() {
  gl_Position = vec4(pos = _pos, 0, 1);
}`;function ne(r,a,o){let e=[];return q(()=>e.forEach(s=>s())),new Promise(s=>{d(async()=>{var g;const{canvas:n,onResize:u,size:E}=await Z(r),t=n.getContext("webgl2",{preserveDrawingBuffer:o==null?void 0:o.preserveDrawingBuffer});if(!t)throw new Error("An error occurred while initializing the context.");const f=ee(t,(g=o==null?void 0:o.vertShader)!=null?g:re,a);t.useProgram(f);const _=t.getAttribLocation(f,"_pos");t.enableVertexAttribArray(_);const L=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,L),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,1,0,1,1,0,0,1,1,0,0,0]),t.STATIC_DRAW),t.vertexAttribPointer(_,2,t.FLOAT,!1,0,0);function h(){t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.viewport(-n.width,-n.height,2*n.width,2*n.height),t.drawArrays(t.TRIANGLES,0,6)}let p=!1;const R=setInterval(()=>{p&&(p=!1,h())});e.push(()=>clearInterval(R)),u(h),s({canvas:n,gl:t,onResize:u,program:f,render:h,size:E,useUniform(b,B,F){const w=t.getUniformLocation(f,b);if(!w)return;const P=d(()=>{let c=m(F);typeof c=="number"&&(c=[c]),!(c.length<1||c.length>4)&&(t[`uniform${c.length}${B}v`](w,c),p=!0)});e.push(P)}})})})}export{ae as F,ne as u};
