import{s as m,aC as c,d as $,ay as T,o as i,f,b as n,w as o,F as x,x as d,e as u,t as w,u as a,aK as g,a as C,m as v,c as k,k as L,b0 as S,y as V,p as h,g as B}from"./index.e9cc25ec.js";import{_ as b,B as y}from"./VStack.7090fa40.js";import{C as I}from"./Card.7b5d9e67.js";import{C as D}from"./CardGrid.4ad4cf2e.js";import{D as F}from"./DocumentDisplay.6f6c1407.js";import{_ as K,M,F as E}from"./SharedNav.57e661d0.js";import{S as O}from"./SearchableCardGrid.dae33cd2.js";import{T as G}from"./Title.8dbe4c1e.js";function P(s){const l=document.createElement("p");return l.innerHTML=s,l.textContent||""}const R=s=>(h("data-v-62a44d20"),s=s(),B(),s),U={key:0},q=u(" Looks like you're not logged in. "),H=u(" or "),j=u(" to access the Notes app. "),z=u(" New Note "),A=R(()=>C("p",null,"Pick a title for your note.",-1)),J=u(" OK "),Q=u("Cancel"),_=m([]);c.on("notes:index",s=>_.value=s);const W=$({__name:"my-notes",setup(s){const l=m(!1),p=m(!1),r=m("");return T(()=>{c.emit("notes:request:index",d.value)}),(X,e)=>{const N=V("RouterLink");return i(),f(x,null,[n(F,null,{default:o(()=>[n(G,null,{default:o(()=>[u(w(a(g)?`@${a(g)}'s`:"My")+" Notes",1)]),_:1}),a(d)?v("",!0):(i(),f("p",U,[q,C("span",{class:"link",onClick:e[0]||(e[0]=t=>l.value=!0)},"Log in"),H,C("span",{class:"link",onClick:e[1]||(e[1]=t=>l.value=!0)},"create an account"),j])),a(d)&&_.value.length<100?(i(),k(D,{key:1,style:{"margin-bottom":"2em"}},{default:o(()=>[n(y,{onClick:e[2]||(e[2]=t=>(p.value=!0,r.value=""))},{default:o(()=>[z]),_:1})]),_:1})):v("",!0),a(d)&&_.value.length?(i(),k(O,{key:2,placeholder:"Search your notes..."},{default:o(()=>[(i(!0),f(x,null,L(_.value,t=>(i(),k(N,{to:`/note?id=${t.id}`},{default:o(()=>[n(I,{class:"card text-color",description:a(P)(t.desc),title:t.title},null,8,["description","title"])]),_:2},1032,["to"]))),256))]),_:1})):v("",!0)]),_:1}),n(K,{open:l.value,"onUpdate:open":e[3]||(e[3]=t=>l.value=t)},null,8,["open"]),n(M,{open:p.value},{buttons:o(()=>[n(y,{onClick:e[6]||(e[6]=t=>r.value&&(a(c).emit("notes:create",a(d),r.value),p.value=!1))},{default:o(()=>[J]),_:1}),n(y,{cancel:"",onClick:e[7]||(e[7]=t=>p.value=!1)},{default:o(()=>[Q]),_:1})]),default:o(()=>[A,n(E,{modelValue:r.value,"onUpdate:modelValue":e[4]||(e[4]=t=>r.value=t),autocomplete:"off",placeholder:"Title...",onKeydown:e[5]||(e[5]=S(t=>r.value&&(a(c).emit("notes:create",a(d),r.value),p.value=!1),["enter"]))},null,8,["modelValue"])]),_:1},8,["open"])],64)}}});var le=b(W,[["__scopeId","data-v-62a44d20"]]);export{le as default};
